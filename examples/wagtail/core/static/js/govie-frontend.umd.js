(function(s,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(s=typeof globalThis<"u"?globalThis:s||self,r(s.GovieFrontend={}))})(this,function(s){"use strict";var C=Object.defineProperty;var $=(s,r,a)=>r in s?C(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;var o=(s,r,a)=>$(s,typeof r!="symbol"?r+"":r,a);function r({element:i}){return{getByElement:({name:e})=>{const n=i.querySelectorAll(`[data-element="${e}"]`);if(n.length===0)throw new Error(`No elements with 'data-element="${e}"' found.`);if(n.length>1)throw new Error(`More than one element with 'data-element="${e}"' found.`);return n[0]},getByData:({data:e})=>{const n=i.querySelectorAll(`[data-${e}]`);if(n.length===0)throw new Error(`No elements with 'data-${e}' found.`);if(n.length>1)throw new Error(`More than one element with 'data-${e}' found.`);return n[0]}}}class a{constructor(e){o(this,"initialised");o(this,"options");o(this,"query");this.options=e,this.query=r({element:e.element}),this.initialised=!1}init(){this.initialised||(this.initComponent(),this.initialised=!0)}destroy(){this.initialised&&(this.destroyComponent(),this.initialised=!1)}}function m({name:i,component:e}){return function(){const n=document.querySelectorAll(`[data-module="gieds-${i}"]`);for(const t of n)g({component:e,options:{element:t}})}}class l extends a{constructor(n){super(n);o(this,"searchIcon");o(this,"searchContainer");o(this,"searchIconHandler");this.searchIcon=this.query.getByElement({name:"search"}),this.searchContainer=this.query.getByElement({name:"container"}),this.searchIconHandler=t=>{t.stopPropagation();const c=this.searchContainer.classList;c.toggle("js:gi-max-height"),c.toggle("gi-max-h-0"),c.toggle("gi-opacity-0")}}initComponent(){this.searchIcon.addEventListener("click",this.searchIconHandler)}destroyComponent(){this.searchIcon.removeEventListener("click",this.searchIconHandler)}}const u=m({name:"header",component:"Header"});function f(){return Math.random().toString(36).slice(2,11)}const d={Header:l};class w{constructor(){o(this,"_instances");this._instances={};for(const e of Object.keys(d))this._instances[e]={}}addInstance({component:e,instance:n,options:t}){if(!this._instances[e])return console.warn(`Gov IE component ${e} does not exist.`),!1;if(t.id){if(this._instances[e][t.id]&&!t.override){console.warn(`Gov IE instance with id '${t.id}' already exists.`);return}t.override&&this._instances[e][t.id]&&this.destroyAndRemoveInstance({component:e,id:t.id})}if(n){this._instances[e][t.id??f()]=n;return}const c=d[e],I=new c(t);I.init(),this._instances[e][t.id??f()]=I}getAllInstances(){return this._instances}getInstances({component:e}){return this._instances[e]?this._instances[e]:(console.warn(`Gov IE component '${e}' does not exist.`),!1)}getInstance({component:e,id:n}){if(this.componentAndInstanceCheck({component:e,id:n})){if(!this._instances[e][n]){console.warn(`Gov IE instance with id ${n} does not exist.`);return}return this._instances[e][n]}}destroyAndRemoveInstance({component:e,id:n}){this.componentAndInstanceCheck({component:e,id:n})&&(this.destroyInstanceObject({component:e,id:n}),this.removeInstance({component:e,id:n}))}destroyAndRemoveAllInstances(){for(const e in this._instances)for(const n in this._instances[e])this.destroyAndRemoveInstance({component:e,id:n})}removeInstance({component:e,id:n}){this.componentAndInstanceCheck({component:e,id:n})&&delete this._instances[e][n]}destroyInstanceObject({component:e,id:n}){this.componentAndInstanceCheck({component:e,id:n})&&this._instances[e][n].destroy()}instanceExists({component:e,id:n}){return!(!this._instances[e]||!this._instances[e][n])}componentAndInstanceCheck({component:e,id:n}){return this._instances[e]?this._instances[e][n]?!0:(console.warn(`Gov IE instance with identifier '${n}' does not exist.`),!1):(console.warn(`Gov IE component ${e} does not exist.`),!1)}}function g({component:i,options:e}){const n=d[i];if(!n)throw new Error(`Component '${n}' not found in registry.`);const t=new n(e);return t.init(),h.addInstance({component:i,instance:t,options:e}),t}function v(){h.destroyAndRemoveAllInstances()}const h=new w;typeof window<"u"&&(window.GovieInstances=h);function _({type:i,functions:e=[]}){function n(){for(const t of e)typeof window<"u"&&window.addEventListener(i,t)}return{init:n}}const E=Object.freeze(Object.defineProperty({__proto__:null,properties:{header:[{name:"title",description:"Title of the header.",type:"string",required:!0}]}},Symbol.toStringTag,{value:"Module"}));function p(){const i=document==null?void 0:document.body;if(!i)throw new Error("No body element found in the document.");i.classList.contains("gieds-js")||i.classList.add("gieds-js")}function y(){p(),u()}function A(){v()}_({type:"load",functions:[y]}).init(),s.Header=l,s.destroyGovIe=A,s.initGovIe=y,s.initHeader=u,s.properties=E,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=govie-frontend.umd.js.map
