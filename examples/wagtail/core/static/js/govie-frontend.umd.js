(function(n,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(n=typeof globalThis<"u"?globalThis:n||self,i(n.GovieFrontend={}))})(this,function(n){"use strict";var p=Object.defineProperty;var C=(n,i,a)=>i in n?p(n,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[i]=a;var o=(n,i,a)=>C(n,typeof i!="symbol"?i+"":i,a);function i({element:s}){return{getByElement:({name:e})=>{const t=s.querySelectorAll(`[data-element="${e}"]`);if(t.length===0)throw new Error(`No elements with 'data-element="${e}"' found.`);if(t.length>1)throw new Error(`More than one element with 'data-element="${e}"' found.`);return t[0]},getByData:({data:e})=>{const t=s.querySelectorAll(`[data-${e}]`);if(t.length===0)throw new Error(`No elements with 'data-${e}' found.`);if(t.length>1)throw new Error(`More than one element with 'data-${e}' found.`);return t[0]}}}class a{constructor(e){o(this,"initialised");o(this,"options");o(this,"query");this.options=e,this.query=i({element:e.element}),this.initialised=!1}init(){this.initialised||(this.initComponent(),this.initialised=!0)}destroy(){this.initialised&&(this.destroyComponent(),this.initialised=!1)}}class l extends a{constructor({element:t}){super({element:t});o(this,"searchIcon");o(this,"searchContainer");o(this,"searchIconHandler");this.searchIcon=this.query.getByElement({name:"search"}),this.searchContainer=this.query.getByElement({name:"container"}),this.searchIconHandler=r=>{r.stopPropagation();const c=this.searchContainer.classList;c.toggle("js:gi-max-height"),c.toggle("gi-max-h-0"),c.toggle("gi-opacity-0")}}initComponent(){this.searchIcon.addEventListener("click",this.searchIconHandler)}destroyComponent(){this.searchIcon.removeEventListener("click",this.searchIconHandler)}}const f=m({name:"header",classType:"Header"});function u(){return Math.random().toString(36).slice(2,11)}const d={Header:l};class I{constructor(){o(this,"_instances");this._instances={};for(const e of Object.keys(d))this._instances[e]={}}addInstance(e,t,r){if(!this._instances[e])return console.warn(`Gov IE component ${e} does not exist.`),!1;if(t.id){if(this._instances[e][t.id]&&!t.override){console.warn(`Gov IE instance with id '${t.id}' already exists.`);return}t.override&&this._instances[e][t.id]&&this.destroyAndRemoveInstance(e,t.id)}r&&(this._instances[e][t.id??u()]=r);const c=d[e];this._instances[e][t.id??u()]=new c(t)}getAllInstances(){return this._instances}getInstances(e){return this._instances[e]?this._instances[e]:(console.warn(`Gov IE component '${e}' does not exist.`),!1)}getInstance(e,t){if(this._componentAndInstanceCheck(e,t)){if(!this._instances[e][t]){console.warn(`Gov IE instance with id ${t} does not exist.`);return}return this._instances[e][t]}}destroyAndRemoveInstance(e,t){this._componentAndInstanceCheck(e,t)&&(this.destroyInstanceObject(e,t),this.removeInstance(e,t))}destroyAndRemoveAllInstances(){for(const e in this._instances)for(const t in this._instances[e])this.destroyAndRemoveInstance(e,t)}removeInstance(e,t){this._componentAndInstanceCheck(e,t)&&delete this._instances[e][t]}destroyInstanceObject(e,t){this._componentAndInstanceCheck(e,t)&&this._instances[e][t].destroy()}instanceExists(e,t){return!(!this._instances[e]||!this._instances[e][t])}_componentAndInstanceCheck(e,t){return this._instances[e]?this._instances[e][t]?!0:(console.warn(`Gov IE instance with identifier '${t}' does not exist.`),!1):(console.warn(`Gov IE component ${e} does not exist.`),!1)}}function m({name:s,classType:e}){return function(){const t=document.querySelectorAll(`[data-module="gieds-${s}"]`);for(const r of t)w(e,{element:r})}}function w(s,e){const t=d[s];if(!t)throw new Error(`Component '${t}' not found in registry.`);new t(e).init(),h.addInstance(s,e)}function g(){h.destroyAndRemoveAllInstances()}const h=new I;typeof window<"u"&&(window.GovieInstances=h);function v({type:s,functions:e=[]}){function t(){for(const r of e)typeof window<"u"&&window.addEventListener(s,r)}return{init:t}}const _=Object.freeze(Object.defineProperty({__proto__:null,properties:{header:[{name:"title",description:"Title of the header.",type:"string",required:!0}]}},Symbol.toStringTag,{value:"Module"}));function E(){const s=document==null?void 0:document.body;if(!s)throw new Error("No body element found in the document.");s.classList.contains("gieds-js")||s.classList.add("gieds-js")}function y(){E(),f()}function A(){g()}v({type:"load",functions:[y]}).init(),n.Header=l,n.destroyGovIe=A,n.initGovIe=y,n.initHeader=f,n.properties=_,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=govie-frontend.umd.js.map
