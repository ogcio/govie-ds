(function(t,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(t=typeof globalThis<"u"?globalThis:t||self,i(t.GovieFrontend={}))})(this,function(t){"use strict";var C=Object.defineProperty;var A=(t,i,a)=>i in t?C(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a;var o=(t,i,a)=>A(t,typeof i!="symbol"?i+"":i,a);function i({type:s,functions:e=[]}){function n(){for(const r of e)typeof window<"u"&&window.addEventListener(s,r)}return{init:n}}class a{constructor(){o(this,"_instances");this._instances={Header:{}}}addInstance(e,n,r,h=!1){if(!this._instances[e])return console.warn(`GovIe: Component ${e} does not exist.`),!1;if(this._instances[e][r]&&!h){console.warn(`GovIe: Instance with ID ${r} already exists.`);return}h&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r??this._generateRandomId()]=n}getAllInstances(){return this._instances}getInstances(e){return this._instances[e]?this._instances[e]:(console.warn(`GovIe: Component ${e} does not exist.`),!1)}getInstance(e,n){if(this._componentAndInstanceCheck(e,n)){if(!this._instances[e][n]){console.warn(`GovIe: Instance with ID ${n} does not exist.`);return}return this._instances[e][n]}}destroyAndRemoveInstance(e,n){this._componentAndInstanceCheck(e,n)&&(this.destroyInstanceObject(e,n),this.removeInstance(e,n))}destroyAndRemoveAllInstances(){for(const e in this._instances)for(const n in this._instances[e])this.destroyAndRemoveInstance(e,n)}removeInstance(e,n){this._componentAndInstanceCheck(e,n)&&delete this._instances[e][n]}destroyInstanceObject(e,n){this._componentAndInstanceCheck(e,n)&&this._instances[e][n].destroy()}instanceExists(e,n){return!(!this._instances[e]||!this._instances[e][n])}_generateRandomId(){return Math.random().toString(36).slice(2,11)}_componentAndInstanceCheck(e,n){return this._instances[e]?this._instances[e][n]?!0:(console.warn(`GovIe: Instance with ID ${n} does not exist.`),!1):(console.warn(`GovIe: Component ${e} does not exist.`),!1)}}const c=new a;typeof window<"u"&&(window.GovIeInstances=c);function m({element:s}){return{getByElement:({name:e})=>{const n=s.querySelectorAll(`[data-element="${e}"]`);if(n.length===0)throw new Error(`No elements with 'data-element="${e}"' found.`);if(n.length>1)throw new Error(`More than one element with 'data-element="${e}"' found.`);return n[0]},getByData:({data:e})=>{const n=s.querySelectorAll(`[data-${e}]`);if(n.length===0)throw new Error(`No elements with 'data-${e}' found.`);if(n.length>1)throw new Error(`More than one element with 'data-${e}' found.`);return n[0]}}}function w({name:s,classType:e}){return function(){const n=document.querySelectorAll(`[data-module="gieds-${s}"]`);for(const r of n)l(e,{element:r})}}function l(s,e){c.addInstance("Header",new d(e),e.id,!0)}function v({classType:s,id:e}){c.destroyAndRemoveInstance(s,e)}function u(){c.destroyAndRemoveAllInstances()}class f{constructor({element:e}){o(this,"initialised");o(this,"element");o(this,"query");this.element=e,this.query=m({element:e}),this.initialised=!1}init(){this.initialised||(this.initComponent(),this.initialised=!0)}destroy(){this.initialised&&(this.destroyComponent(),this.initialised=!1)}}class d extends f{constructor({element:n}){super({element:n});o(this,"searchIcon");o(this,"searchContainer");o(this,"searchIconHandler");this.searchIcon=this.query.getByElement({name:"search"}),this.searchContainer=this.query.getByElement({name:"container"}),this.searchIconHandler=r=>{if(r.stopPropagation(),!this.searchContainer.classList.contains("js:gi-hidden")){this.searchContainer.classList.add("js:gi-hidden");return}this.searchContainer.classList.remove("js:gi-hidden")},this.init()}initComponent(){this.searchIcon.addEventListener("click",this.searchIconHandler)}destroyComponent(){this.searchIcon.removeEventListener("click",this.searchIconHandler)}}const I=w({name:"header",classType:d});function _(){const s=document==null?void 0:document.body;if(!s)throw new Error("No body element found in the document.");s.classList.contains("gieds-js")||s.classList.add("gieds-js")}function y(){_(),I()}function g(){u()}i({type:"load",functions:[y]}).init(),t.Component=f,t.Header=d,t.createInstance=l,t.destroyAllInstances=u,t.destroyGovIe=g,t.destroyInstance=v,t.initGovIe=y,t.initHeader=I,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=govie-frontend.umd.js.map
