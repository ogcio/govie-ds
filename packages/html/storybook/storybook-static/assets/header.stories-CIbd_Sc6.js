import{c as Ge,g as We}from"./_commonjsHelpers-Cpj98o6Y.js";var Fe={exports:{}};/*! Browser bundle of nunjucks 3.2.4  */(function(Oe,Te){(function(j,N){Oe.exports=N()})(typeof self<"u"?self:Ge,function(){return function(G){var j={};function N(y){if(j[y])return j[y].exports;var x=j[y]={i:y,l:!1,exports:{}};return G[y].call(x.exports,x,x.exports,N),x.l=!0,x.exports}return N.m=G,N.c=j,N.d=function(y,x,m){N.o(y,x)||Object.defineProperty(y,x,{configurable:!1,enumerable:!0,get:m})},N.n=function(y){var x=y&&y.__esModule?function(){return y.default}:function(){return y};return N.d(x,"a",x),x},N.o=function(y,x){return Object.prototype.hasOwnProperty.call(y,x)},N.p="",N(N.s=11)}([function(G,g,N){var y=Array.prototype,x=Object.prototype,m={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},E=/[&"'<>\\]/g,g=G.exports={};function O(f,w){return x.hasOwnProperty.call(f,w)}g.hasOwnProp=O;function P(f){return m[f]}function I(f,w,F){if(F.Update||(F=new g.TemplateError(F)),F.Update(f),!w){var B=F;F=new Error(B.message),F.name=B.name}return F}g._prettifyError=I;function C(f,w,F){var B,U;f instanceof Error&&(U=f,f=U.name+": "+U.message),Object.setPrototypeOf?(B=new Error(f),Object.setPrototypeOf(B,C.prototype)):(B=this,Object.defineProperty(B,"message",{enumerable:!1,writable:!0,value:f})),Object.defineProperty(B,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(B,this.constructor);var q;if(U){var z=Object.getOwnPropertyDescriptor(U,"stack");q=z&&(z.get||function(){return z.value}),q||(q=function(){return U.stack})}else{var se=new Error(f).stack;q=function(){return se}}return Object.defineProperty(B,"stack",{get:function(){return q.call(B)}}),Object.defineProperty(B,"cause",{value:U}),B.lineno=w,B.colno=F,B.firstUpdate=!0,B.Update=function(X){var Q="("+(X||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?Q+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(Q+=" [Line "+this.lineno+"]")),Q+=`
 `,this.firstUpdate&&(Q+=" "),this.message=Q+(this.message||""),this.firstUpdate=!1,this},B}Object.setPrototypeOf?Object.setPrototypeOf(C.prototype,Error.prototype):C.prototype=Object.create(Error.prototype,{constructor:{value:C}}),g.TemplateError=C;function _(f){return f.replace(E,P)}g.escape=_;function T(f){return x.toString.call(f)==="[object Function]"}g.isFunction=T;function e(f){return x.toString.call(f)==="[object Array]"}g.isArray=e;function n(f){return x.toString.call(f)==="[object String]"}g.isString=n;function i(f){return x.toString.call(f)==="[object Object]"}g.isObject=i;function p(f){return f?typeof f=="string"?f.split("."):[f]:[]}function l(f){var w=p(f);return function(B){for(var U=B,q=0;q<w.length;q++){var z=w[q];if(O(U,z))U=U[z];else return}return U}}g.getAttrGetter=l;function h(f,w,F){for(var B={},U=T(w)?w:l(w),q=0;q<f.length;q++){var z=f[q],se=U(z,q);if(se===void 0&&F===!0)throw new TypeError('groupby: attribute "'+w+'" resolved to undefined');(B[se]||(B[se]=[])).push(z)}return B}g.groupBy=h;function t(f){return Array.prototype.slice.call(f)}g.toArray=t;function r(f){var w=[];if(!f)return w;for(var F=f.length,B=t(arguments).slice(1),U=-1;++U<F;)k(B,f[U])===-1&&w.push(f[U]);return w}g.without=r;function a(f,w){for(var F="",B=0;B<w;B++)F+=f;return F}g.repeat=a;function o(f,w,F){if(f!=null){if(y.forEach&&f.forEach===y.forEach)f.forEach(w,F);else if(f.length===+f.length)for(var B=0,U=f.length;B<U;B++)w.call(F,f[B],B,f)}}g.each=o;function s(f,w){var F=[];if(f==null)return F;if(y.map&&f.map===y.map)return f.map(w);for(var B=0;B<f.length;B++)F[F.length]=w(f[B],B);return f.length===+f.length&&(F.length=f.length),F}g.map=s;function u(f,w,F){var B=-1;function U(){B++,B<f.length?w(f[B],B,U,F):F()}U()}g.asyncIter=u;function c(f,w,F){var B=L(f||{}),U=B.length,q=-1;function z(){q++;var se=B[q];q<U?w(se,f[se],q,U,z):F()}z()}g.asyncFor=c;function k(f,w,F){return Array.prototype.indexOf.call(f||[],w,F)}g.indexOf=k;function L(f){var w=[];for(var F in f)O(f,F)&&w.push(F);return w}g.keys=L;function b(f){return L(f).map(function(w){return[w,f[w]]})}g._entries=b;function A(f){return L(f).map(function(w){return f[w]})}g._values=A;function R(f,w){return f=f||{},L(w).forEach(function(F){f[F]=w[F]}),f}g._assign=g.extend=R;function d(f,w){if(e(w)||n(w))return w.indexOf(f)!==-1;if(i(w))return f in w;throw new Error('Cannot use "in" operator to search for "'+f+'" in unexpected types.')}g.inOperator=d},function(G,j,N){function y(n,i){for(var p=0;p<i.length;p++){var l=i[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,m(l.key),l)}}function x(n,i,p){return i&&y(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function m(n){var i=E(n,"string");return typeof i=="symbol"?i:String(i)}function E(n,i){if(typeof n!="object"||n===null)return n;var p=n[Symbol.toPrimitive];if(p!==void 0){var l=p.call(n,i);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function g(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,O(n,i)}function O(n,i){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,h){return l.__proto__=h,l},O(n,i)}var P=N(16),I=N(0);function C(n,i){return typeof n!="function"||typeof i!="function"?i:function(){var l=this.parent;this.parent=n;var h=i.apply(this,arguments);return this.parent=l,h}}function _(n,i,p){p=p||{},I.keys(p).forEach(function(h){p[h]=C(n.prototype[h],p[h])});var l=function(h){g(t,h);function t(){return h.apply(this,arguments)||this}return x(t,[{key:"typename",get:function(){return i}}]),t}(n);return I._assign(l.prototype,p),l}var T=function(){function n(){this.init.apply(this,arguments)}var i=n.prototype;return i.init=function(){},n.extend=function(l,h){return typeof l=="object"&&(h=l,l="anonymous"),_(this,l,h)},x(n,[{key:"typename",get:function(){return this.constructor.name}}]),n}(),e=function(n){g(i,n);function i(){var l,h;return h=n.call(this)||this,(l=h).init.apply(l,arguments),h}var p=i.prototype;return p.init=function(){},i.extend=function(h,t){return typeof h=="object"&&(t=h,h="anonymous"),_(this,h,t)},x(i,[{key:"typename",get:function(){return this.constructor.name}}]),i}(P);G.exports={Obj:T,EmitterObj:e}},function(G,j,N){var y=N(0),x=Array.from,m=typeof Symbol=="function"&&Symbol.iterator&&typeof x=="function",E=function(){function s(c,k){this.variables=Object.create(null),this.parent=c,this.topLevel=!1,this.isolateWrites=k}var u=s.prototype;return u.set=function(k,L,b){var A=k.split("."),R=this.variables,d=this;if(b&&(d=this.resolve(A[0],!0))){d.set(k,L);return}for(var f=0;f<A.length-1;f++){var w=A[f];R[w]||(R[w]={}),R=R[w]}R[A[A.length-1]]=L},u.get=function(k){var L=this.variables[k];return L!==void 0?L:null},u.lookup=function(k){var L=this.parent,b=this.variables[k];return b!==void 0?b:L&&L.lookup(k)},u.resolve=function(k,L){var b=L&&this.isolateWrites?void 0:this.parent,A=this.variables[k];return A!==void 0?this:b&&b.resolve(k)},u.push=function(k){return new s(this,k)},u.pop=function(){return this.parent},s}();function g(s,u,c){return function(){for(var L=arguments.length,b=new Array(L),A=0;A<L;A++)b[A]=arguments[A];var R=C(b),d,f=I(b);if(R>s.length)d=b.slice(0,s.length),b.slice(d.length,R).forEach(function(B,U){U<u.length&&(f[u[U]]=B)}),d.push(f);else if(R<s.length){d=b.slice(0,R);for(var w=R;w<s.length;w++){var F=s[w];d.push(f[F]),delete f[F]}d.push(f)}else d=b;return c.apply(this,d)}}function O(s){return s.__keywords=!0,s}function P(s){return s&&Object.prototype.hasOwnProperty.call(s,"__keywords")}function I(s){var u=s.length;if(u){var c=s[u-1];if(P(c))return c}return{}}function C(s){var u=s.length;if(u===0)return 0;var c=s[u-1];return P(c)?u-1:u}function _(s){if(typeof s!="string")return s;this.val=s,this.length=s.length}_.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),_.prototype.valueOf=function(){return this.val},_.prototype.toString=function(){return this.val};function T(s,u){return s instanceof _?new _(u):u.toString()}function e(s){var u=typeof s;return u==="string"?new _(s):u!=="function"?s:function(k){var L=s.apply(this,arguments);return typeof L=="string"?new _(L):L}}function n(s,u){return s=s??"",u&&!(s instanceof _)&&(s=y.escape(s.toString())),s}function i(s,u,c){if(s==null)throw new y.TemplateError("attempted to output null or undefined value",u+1,c+1);return s}function p(s,u){if(s!=null)return typeof s[u]=="function"?function(){for(var c=arguments.length,k=new Array(c),L=0;L<c;L++)k[L]=arguments[L];return s[u].apply(s,k)}:s[u]}function l(s,u,c,k){if(s){if(typeof s!="function")throw new Error("Unable to call `"+u+"`, which is not a function")}else throw new Error("Unable to call `"+u+"`, which is undefined or falsey");return s.apply(c,k)}function h(s,u,c){var k=u.lookup(c);return k!==void 0?k:s.lookup(c)}function t(s,u,c){return s.lineno?s:new y.TemplateError(s,u,c)}function r(s,u,c,k){if(y.isArray(s)){var L=s.length;y.asyncIter(s,function(A,R,d){switch(u){case 1:c(A,R,L,d);break;case 2:c(A[0],A[1],R,L,d);break;case 3:c(A[0],A[1],A[2],R,L,d);break;default:A.push(R,L,d),c.apply(this,A)}},k)}else y.asyncFor(s,function(A,R,d,f,w){c(A,R,d,f,w)},k)}function a(s,u,c,k){var L=0,b,A;function R(U,q){L++,A[U]=q,L===b&&k(null,A.join(""))}if(y.isArray(s))if(b=s.length,A=new Array(b),b===0)k(null,"");else for(var d=0;d<s.length;d++){var f=s[d];switch(u){case 1:c(f,d,b,R);break;case 2:c(f[0],f[1],d,b,R);break;case 3:c(f[0],f[1],f[2],d,b,R);break;default:f.push(d,b,R),c.apply(this,f)}}else{var w=y.keys(s||{});if(b=w.length,A=new Array(b),b===0)k(null,"");else for(var F=0;F<w.length;F++){var B=w[F];c(B,s[B],F,b,R)}}}function o(s){return typeof s!="object"||s===null||y.isArray(s)?s:m&&Symbol.iterator in s?x(s):s}G.exports={Frame:E,makeMacro:g,makeKeywordArgs:O,numArgs:C,suppressValue:n,ensureDefined:i,memberLookup:p,contextOrFrameLookup:h,callWrap:l,handleError:t,isArray:y.isArray,keys:y.keys,SafeString:_,copySafeness:T,markSafe:e,asyncEach:r,asyncAll:a,inOperator:y.inOperator,fromIterator:o}},function(G,j,N){function y(H,Y){for(var ne=0;ne<Y.length;ne++){var ee=Y[ne];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(H,m(ee.key),ee)}}function x(H,Y,ne){return Y&&y(H.prototype,Y),Object.defineProperty(H,"prototype",{writable:!1}),H}function m(H){var Y=E(H,"string");return typeof Y=="symbol"?Y:String(Y)}function E(H,Y){if(typeof H!="object"||H===null)return H;var ne=H[Symbol.toPrimitive];if(ne!==void 0){var ee=ne.call(H,Y);if(typeof ee!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}function g(H,Y){H.prototype=Object.create(Y.prototype),H.prototype.constructor=H,O(H,Y)}function O(H,Y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,ie){return ee.__proto__=ie,ee},O(H,Y)}var P=N(1),I=P.Obj;function C(H,Y,ne){H instanceof Y&&ne.push(H),H instanceof _&&H.findAll(Y,ne)}var _=function(H){g(Y,H);function Y(){return H.apply(this,arguments)||this}var ne=Y.prototype;return ne.init=function(ie,ae){for(var fe=arguments,de=this,_e=arguments.length,De=new Array(_e>2?_e-2:0),we=2;we<_e;we++)De[we-2]=arguments[we];this.lineno=ie,this.colno=ae,this.fields.forEach(function(Ue,Ve){var be=fe[Ve+2];be===void 0&&(be=null),de[Ue]=be})},ne.findAll=function(ie,ae){var fe=this;return ae=ae||[],this instanceof e?this.children.forEach(function(de){return C(de,ie,ae)}):this.fields.forEach(function(de){return C(fe[de],ie,ae)}),ae},ne.iterFields=function(ie){var ae=this;this.fields.forEach(function(fe){ie(ae[fe],fe)})},Y}(I),T=function(H){g(Y,H);function Y(){return H.apply(this,arguments)||this}return x(Y,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),Y}(_),e=function(H){g(Y,H);function Y(){return H.apply(this,arguments)||this}var ne=Y.prototype;return ne.init=function(ie,ae,fe){H.prototype.init.call(this,ie,ae,fe||[])},ne.addChild=function(ie){this.children.push(ie)},x(Y,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),Y}(_),n=e.extend("Root"),i=T.extend("Literal"),p=T.extend("Symbol"),l=e.extend("Group"),h=e.extend("Array"),t=_.extend("Pair",{fields:["key","value"]}),r=e.extend("Dict"),a=_.extend("LookupVal",{fields:["target","val"]}),o=_.extend("If",{fields:["cond","body","else_"]}),s=o.extend("IfAsync"),u=_.extend("InlineIf",{fields:["cond","body","else_"]}),c=_.extend("For",{fields:["arr","name","body","else_"]}),k=c.extend("AsyncEach"),L=c.extend("AsyncAll"),b=_.extend("Macro",{fields:["name","args","body"]}),A=b.extend("Caller"),R=_.extend("Import",{fields:["template","target","withContext"]}),d=function(H){g(Y,H);function Y(){return H.apply(this,arguments)||this}var ne=Y.prototype;return ne.init=function(ie,ae,fe,de,_e){H.prototype.init.call(this,ie,ae,fe,de||new e,_e)},x(Y,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),Y}(_),f=_.extend("FunCall",{fields:["name","args"]}),w=f.extend("Filter"),F=w.extend("FilterAsync",{fields:["name","args","symbol"]}),B=r.extend("KeywordArgs"),U=_.extend("Block",{fields:["name","body"]}),q=_.extend("Super",{fields:["blockName","symbol"]}),z=_.extend("TemplateRef",{fields:["template"]}),se=z.extend("Extends"),ce=_.extend("Include",{fields:["template","ignoreMissing"]}),X=_.extend("Set",{fields:["targets","value"]}),Q=_.extend("Switch",{fields:["expr","cases","default"]}),D=_.extend("Case",{fields:["cond","body"]}),W=e.extend("Output"),V=_.extend("Capture",{fields:["body"]}),te=i.extend("TemplateData"),ue=_.extend("UnaryOp",{fields:["target"]}),le=_.extend("BinOp",{fields:["left","right"]}),me=le.extend("In"),v=le.extend("Is"),S=le.extend("Or"),M=le.extend("And"),K=ue.extend("Not"),$=le.extend("Add"),J=le.extend("Concat"),re=le.extend("Sub"),Z=le.extend("Mul"),oe=le.extend("Div"),he=le.extend("FloorDiv"),pe=le.extend("Mod"),ve=le.extend("Pow"),Pe=ue.extend("Neg"),Ie=ue.extend("Pos"),Ke=_.extend("Compare",{fields:["expr","ops"]}),Me=_.extend("CompareOperand",{fields:["expr","type"]}),xe=_.extend("CallExtension",{init:function(Y,ne,ee,ie){this.parent(),this.extName=Y.__name||Y,this.prop=ne,this.args=ee||new e,this.contentArgs=ie||[],this.autoescape=Y.autoescape},fields:["extName","prop","args","contentArgs"]}),je=xe.extend("CallExtensionAsync");function ge(H,Y,ne){var ee=H.split(`
`);ee.forEach(function(ie,ae){ie&&(ne&&ae>0||!ne)&&process.stdout.write(" ".repeat(Y));var fe=ae===ee.length-1?"":`
`;process.stdout.write(""+ie+fe)})}function ye(H,Y){if(Y=Y||0,ge(H.typename+": ",Y),H instanceof e)ge(`
`),H.children.forEach(function(ie){ye(ie,Y+2)});else if(H instanceof xe)ge(H.extName+"."+H.prop+`
`),H.args&&ye(H.args,Y+2),H.contentArgs&&H.contentArgs.forEach(function(ie){ye(ie,Y+2)});else{var ne=[],ee=null;H.iterFields(function(ie,ae){ie instanceof _?ne.push([ae,ie]):(ee=ee||{},ee[ae]=ie)}),ee?ge(JSON.stringify(ee,null,2)+`
`,null,!0):ge(`
`),ne.forEach(function(ie){var ae=ie[0],fe=ie[1];ge("["+ae+"] =>",Y+2),ye(fe,Y+4)})}}G.exports={Node:_,Root:n,NodeList:e,Value:T,Literal:i,Symbol:p,Group:l,Array:h,Pair:t,Dict:r,Output:W,Capture:V,TemplateData:te,If:o,IfAsync:s,InlineIf:u,For:c,AsyncEach:k,AsyncAll:L,Macro:b,Caller:A,Import:R,FromImport:d,FunCall:f,Filter:w,FilterAsync:F,KeywordArgs:B,Block:U,Super:q,Extends:se,Include:ce,Set:X,Switch:Q,Case:D,LookupVal:a,BinOp:le,In:me,Is:v,Or:S,And:M,Not:K,Add:$,Concat:J,Sub:re,Mul:Z,Div:oe,FloorDiv:he,Mod:pe,Pow:ve,Neg:Pe,Pos:Ie,Compare:Ke,CompareOperand:Me,CallExtension:xe,CallExtensionAsync:je,printNodes:ye}},function(G,j){},function(G,j,N){function y(i,p){i.prototype=Object.create(p.prototype),i.prototype.constructor=i,x(i,p)}function x(i,p){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,t){return h.__proto__=t,h},x(i,p)}var m=N(8),E=N(17),g=N(3),O=N(0),P=O.TemplateError,I=N(2),C=I.Frame,_=N(1),T=_.Obj,e={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},n=function(i){y(p,i);function p(){return i.apply(this,arguments)||this}var l=p.prototype;return l.init=function(t,r){this.templateName=t,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=r},l.fail=function(t,r,a){throw r!==void 0&&(r+=1),a!==void 0&&(a+=1),new P(t,r,a)},l._pushBuffer=function(){var t=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=t,this._emit("var "+this.buffer+' = "";'),t},l._popBuffer=function(){this.buffer=this.bufferStack.pop()},l._emit=function(t){this.codebuf.push(t)},l._emitLine=function(t){this._emit(t+`
`)},l._emitLines=function(){for(var t=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];a.forEach(function(s){return t._emitLine(s)})},l._emitFuncBegin=function(t,r){this.buffer="output",this._scopeClosers="",this._emitLine("function "+r+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+t.lineno+";"),this._emitLine("var colno = "+t.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},l._emitFuncEnd=function(t){t||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},l._addScopeLevel=function(){this._scopeClosers+="})"},l._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},l._withScopedSyntax=function(t){var r=this._scopeClosers;this._scopeClosers="",t.call(this),this._closeScopeLevels(),this._scopeClosers=r},l._makeCallback=function(t){var r=this._tmpid();return"function("+r+(t?","+t:"")+`) {
if(`+r+") { cb("+r+"); return; }"},l._tmpid=function(){return this.lastId++,"t_"+this.lastId},l._templateName=function(){return this.templateName==null?"undefined":JSON.stringify(this.templateName)},l._compileChildren=function(t,r){var a=this;t.children.forEach(function(o){a.compile(o,r)})},l._compileAggregate=function(t,r,a,o){var s=this;a&&this._emit(a),t.children.forEach(function(u,c){c>0&&s._emit(","),s.compile(u,r)}),o&&this._emit(o)},l._compileExpression=function(t,r){this.assertType(t,g.Literal,g.Symbol,g.Group,g.Array,g.Dict,g.FunCall,g.Caller,g.Filter,g.LookupVal,g.Compare,g.InlineIf,g.In,g.Is,g.And,g.Or,g.Not,g.Add,g.Concat,g.Sub,g.Mul,g.Div,g.FloorDiv,g.Mod,g.Pow,g.Neg,g.Pos,g.Compare,g.NodeList),this.compile(t,r)},l.assertType=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];a.some(function(s){return t instanceof s})||this.fail("assertType: invalid type: "+t.typename,t.lineno,t.colno)},l.compileCallExtension=function(t,r,a){var o=this,s=t.args,u=t.contentArgs,c=typeof t.autoescape=="boolean"?t.autoescape:!0;if(a||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+t.extName+'")["'+t.prop+'"]('),this._emit("context"),(s||u)&&this._emit(","),s&&(s instanceof g.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),s.children.forEach(function(L,b){o._compileExpression(L,r),(b!==s.children.length-1||u.length)&&o._emit(",")})),u.length&&u.forEach(function(L,b){if(b>0&&o._emit(","),L){o._emitLine("function(cb) {"),o._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var A=o._pushBuffer();o._withScopedSyntax(function(){o.compile(L,r),o._emitLine("cb(null, "+A+");")}),o._popBuffer(),o._emitLine("return "+A+";"),o._emitLine("}")}else o._emit("null")}),a){var k=this._tmpid();this._emitLine(", "+this._makeCallback(k)),this._emitLine(this.buffer+" += runtime.suppressValue("+k+", "+c+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+c+` && env.opts.autoescape);
`)},l.compileCallExtensionAsync=function(t,r){this.compileCallExtension(t,r,!0)},l.compileNodeList=function(t,r){this._compileChildren(t,r)},l.compileLiteral=function(t){if(typeof t.value=="string"){var r=t.value.replace(/\\/g,"\\\\");r=r.replace(/"/g,'\\"'),r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t"),r=r.replace(/\u2028/g,"\\u2028"),this._emit('"'+r+'"')}else t.value===null?this._emit("null"):this._emit(t.value.toString())},l.compileSymbol=function(t,r){var a=t.value,o=r.lookup(a);o?this._emit(o):this._emit('runtime.contextOrFrameLookup(context, frame, "'+a+'")')},l.compileGroup=function(t,r){this._compileAggregate(t,r,"(",")")},l.compileArray=function(t,r){this._compileAggregate(t,r,"[","]")},l.compileDict=function(t,r){this._compileAggregate(t,r,"{","}")},l.compilePair=function(t,r){var a=t.key,o=t.value;a instanceof g.Symbol?a=new g.Literal(a.lineno,a.colno,a.value):a instanceof g.Literal&&typeof a.value=="string"||this.fail("compilePair: Dict keys must be strings or names",a.lineno,a.colno),this.compile(a,r),this._emit(": "),this._compileExpression(o,r)},l.compileInlineIf=function(t,r){this._emit("("),this.compile(t.cond,r),this._emit("?"),this.compile(t.body,r),this._emit(":"),t.else_!==null?this.compile(t.else_,r):this._emit('""'),this._emit(")")},l.compileIn=function(t,r){this._emit("runtime.inOperator("),this.compile(t.left,r),this._emit(","),this.compile(t.right,r),this._emit(")")},l.compileIs=function(t,r){var a=t.right.name?t.right.name.value:t.right.value;this._emit('env.getTest("'+a+'").call(context, '),this.compile(t.left,r),t.right.args&&(this._emit(","),this.compile(t.right.args,r)),this._emit(") === true")},l._binOpEmitter=function(t,r,a){this.compile(t.left,r),this._emit(a),this.compile(t.right,r)},l.compileOr=function(t,r){return this._binOpEmitter(t,r," || ")},l.compileAnd=function(t,r){return this._binOpEmitter(t,r," && ")},l.compileAdd=function(t,r){return this._binOpEmitter(t,r," + ")},l.compileConcat=function(t,r){return this._binOpEmitter(t,r,' + "" + ')},l.compileSub=function(t,r){return this._binOpEmitter(t,r," - ")},l.compileMul=function(t,r){return this._binOpEmitter(t,r," * ")},l.compileDiv=function(t,r){return this._binOpEmitter(t,r," / ")},l.compileMod=function(t,r){return this._binOpEmitter(t,r," % ")},l.compileNot=function(t,r){this._emit("!"),this.compile(t.target,r)},l.compileFloorDiv=function(t,r){this._emit("Math.floor("),this.compile(t.left,r),this._emit(" / "),this.compile(t.right,r),this._emit(")")},l.compilePow=function(t,r){this._emit("Math.pow("),this.compile(t.left,r),this._emit(", "),this.compile(t.right,r),this._emit(")")},l.compileNeg=function(t,r){this._emit("-"),this.compile(t.target,r)},l.compilePos=function(t,r){this._emit("+"),this.compile(t.target,r)},l.compileCompare=function(t,r){var a=this;this.compile(t.expr,r),t.ops.forEach(function(o){a._emit(" "+e[o.type]+" "),a.compile(o.expr,r)})},l.compileLookupVal=function(t,r){this._emit("runtime.memberLookup(("),this._compileExpression(t.target,r),this._emit("),"),this._compileExpression(t.val,r),this._emit(")")},l._getNodeName=function(t){switch(t.typename){case"Symbol":return t.value;case"FunCall":return"the return value of ("+this._getNodeName(t.name)+")";case"LookupVal":return this._getNodeName(t.target)+'["'+this._getNodeName(t.val)+'"]';case"Literal":return t.value.toString();default:return"--expression--"}},l.compileFunCall=function(t,r){this._emit("(lineno = "+t.lineno+", colno = "+t.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(t.name,r),this._emit(', "'+this._getNodeName(t.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(t.args,r,"[","])"),this._emit(")")},l.compileFilter=function(t,r){var a=t.name;this.assertType(a,g.Symbol),this._emit('env.getFilter("'+a.value+'").call(context, '),this._compileAggregate(t.args,r),this._emit(")")},l.compileFilterAsync=function(t,r){var a=t.name,o=t.symbol.value;this.assertType(a,g.Symbol),r.set(o,o),this._emit('env.getFilter("'+a.value+'").call(context, '),this._compileAggregate(t.args,r),this._emitLine(", "+this._makeCallback(o)),this._addScopeLevel()},l.compileKeywordArgs=function(t,r){this._emit("runtime.makeKeywordArgs("),this.compileDict(t,r),this._emit(")")},l.compileSet=function(t,r){var a=this,o=[];t.targets.forEach(function(s){var u=s.value,c=r.lookup(u);c==null&&(c=a._tmpid(),a._emitLine("var "+c+";")),o.push(c)}),t.value?(this._emit(o.join(" = ")+" = "),this._compileExpression(t.value,r),this._emitLine(";")):(this._emit(o.join(" = ")+" = "),this.compile(t.body,r),this._emitLine(";")),t.targets.forEach(function(s,u){var c=o[u],k=s.value;a._emitLine('frame.set("'+k+'", '+c+", true);"),a._emitLine("if(frame.topLevel) {"),a._emitLine('context.setVariable("'+k+'", '+c+");"),a._emitLine("}"),k.charAt(0)!=="_"&&(a._emitLine("if(frame.topLevel) {"),a._emitLine('context.addExport("'+k+'", '+c+");"),a._emitLine("}"))})},l.compileSwitch=function(t,r){var a=this;this._emit("switch ("),this.compile(t.expr,r),this._emit(") {"),t.cases.forEach(function(o,s){a._emit("case "),a.compile(o.cond,r),a._emit(": "),a.compile(o.body,r),o.body.children.length&&a._emitLine("break;")}),t.default&&(this._emit("default:"),this.compile(t.default,r)),this._emit("}")},l.compileIf=function(t,r,a){var o=this;this._emit("if("),this._compileExpression(t.cond,r),this._emitLine(") {"),this._withScopedSyntax(function(){o.compile(t.body,r),a&&o._emit("cb()")}),t.else_?(this._emitLine(`}
else {`),this._withScopedSyntax(function(){o.compile(t.else_,r),a&&o._emit("cb()")})):a&&(this._emitLine(`}
else {`),this._emit("cb()")),this._emitLine("}")},l.compileIfAsync=function(t,r){this._emit("(function(cb) {"),this.compileIf(t,r,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},l._emitLoopBindings=function(t,r,a,o){var s=this,u=[{name:"index",val:a+" + 1"},{name:"index0",val:a},{name:"revindex",val:o+" - "+a},{name:"revindex0",val:o+" - "+a+" - 1"},{name:"first",val:a+" === 0"},{name:"last",val:a+" === "+o+" - 1"},{name:"length",val:o}];u.forEach(function(c){s._emitLine('frame.set("loop.'+c.name+'", '+c.val+");")})},l.compileFor=function(t,r){var a=this,o=this._tmpid(),s=this._tmpid(),u=this._tmpid();if(r=r.push(),this._emitLine("frame = frame.push();"),this._emit("var "+u+" = "),this._compileExpression(t.arr,r),this._emitLine(";"),this._emit("if("+u+") {"),this._emitLine(u+" = runtime.fromIterator("+u+");"),t.name instanceof g.Array){this._emitLine("var "+o+";"),this._emitLine("if(runtime.isArray("+u+")) {"),this._emitLine("var "+s+" = "+u+".length;"),this._emitLine("for("+o+"=0; "+o+" < "+u+".length; "+o+"++) {"),t.name.children.forEach(function(d,f){var w=a._tmpid();a._emitLine("var "+w+" = "+u+"["+o+"]["+f+"];"),a._emitLine('frame.set("'+d+'", '+u+"["+o+"]["+f+"]);"),r.set(t.name.children[f].value,w)}),this._emitLoopBindings(t,u,o,s),this._withScopedSyntax(function(){a.compile(t.body,r)}),this._emitLine("}"),this._emitLine("} else {");var c=t.name.children,k=c[0],L=c[1],b=this._tmpid(),A=this._tmpid();r.set(k.value,b),r.set(L.value,A),this._emitLine(o+" = -1;"),this._emitLine("var "+s+" = runtime.keys("+u+").length;"),this._emitLine("for(var "+b+" in "+u+") {"),this._emitLine(o+"++;"),this._emitLine("var "+A+" = "+u+"["+b+"];"),this._emitLine('frame.set("'+k.value+'", '+b+");"),this._emitLine('frame.set("'+L.value+'", '+A+");"),this._emitLoopBindings(t,u,o,s),this._withScopedSyntax(function(){a.compile(t.body,r)}),this._emitLine("}"),this._emitLine("}")}else{var R=this._tmpid();r.set(t.name.value,R),this._emitLine("var "+s+" = "+u+".length;"),this._emitLine("for(var "+o+"=0; "+o+" < "+u+".length; "+o+"++) {"),this._emitLine("var "+R+" = "+u+"["+o+"];"),this._emitLine('frame.set("'+t.name.value+'", '+R+");"),this._emitLoopBindings(t,u,o,s),this._withScopedSyntax(function(){a.compile(t.body,r)}),this._emitLine("}")}this._emitLine("}"),t.else_&&(this._emitLine("if (!"+s+") {"),this.compile(t.else_,r),this._emitLine("}")),this._emitLine("frame = frame.pop();")},l._compileAsyncLoop=function(t,r,a){var o=this,s=this._tmpid(),u=this._tmpid(),c=this._tmpid(),k=a?"asyncAll":"asyncEach";if(r=r.push(),this._emitLine("frame = frame.push();"),this._emit("var "+c+" = runtime.fromIterator("),this._compileExpression(t.arr,r),this._emitLine(");"),t.name instanceof g.Array){var L=t.name.children.length;this._emit("runtime."+k+"("+c+", "+L+", function("),t.name.children.forEach(function(R){o._emit(R.value+",")}),this._emit(s+","+u+",next) {"),t.name.children.forEach(function(R){var d=R.value;r.set(d,d),o._emitLine('frame.set("'+d+'", '+d+");")})}else{var b=t.name.value;this._emitLine("runtime."+k+"("+c+", 1, function("+b+", "+s+", "+u+",next) {"),this._emitLine('frame.set("'+b+'", '+b+");"),r.set(b,b)}this._emitLoopBindings(t,c,s,u),this._withScopedSyntax(function(){var R;a&&(R=o._pushBuffer()),o.compile(t.body,r),o._emitLine("next("+s+(R?","+R:"")+");"),a&&o._popBuffer()});var A=this._tmpid();this._emitLine("}, "+this._makeCallback(A)),this._addScopeLevel(),a&&this._emitLine(this.buffer+" += "+A+";"),t.else_&&(this._emitLine("if (!"+c+".length) {"),this.compile(t.else_,r),this._emitLine("}")),this._emitLine("frame = frame.pop();")},l.compileAsyncEach=function(t,r){this._compileAsyncLoop(t,r)},l.compileAsyncAll=function(t,r){this._compileAsyncLoop(t,r,!0)},l._compileMacro=function(t,r){var a=this,o=[],s=null,u="macro_"+this._tmpid(),c=r!==void 0;t.args.children.forEach(function(d,f){f===t.args.children.length-1&&d instanceof g.Dict?s=d:(a.assertType(d,g.Symbol),o.push(d))});var k=[].concat(o.map(function(d){return"l_"+d.value}),["kwargs"]),L=o.map(function(d){return'"'+d.value+'"'}),b=(s&&s.children||[]).map(function(d){return'"'+d.key.value+'"'}),A;c?A=r.push(!0):A=new C,this._emitLines("var "+u+" = runtime.makeMacro(","["+L.join(", ")+"], ","["+b.join(", ")+"], ","function ("+k.join(", ")+") {","var callerFrame = frame;","frame = "+(c?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),o.forEach(function(d){a._emitLine('frame.set("'+d.value+'", l_'+d.value+");"),A.set(d.value,"l_"+d.value)}),s&&s.children.forEach(function(d){var f=d.key.value;a._emit('frame.set("'+f+'", '),a._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+f+'")'),a._emit(' ? kwargs["'+f+'"] : '),a._compileExpression(d.value,A),a._emit(");")});var R=this._pushBuffer();return this._withScopedSyntax(function(){a.compile(t.body,A)}),this._emitLine("frame = "+(c?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+R+");"),this._emitLine("});"),this._popBuffer(),u},l.compileMacro=function(t,r){var a=this._compileMacro(t),o=t.name.value;r.set(o,a),r.parent?this._emitLine('frame.set("'+o+'", '+a+");"):(t.name.value.charAt(0)!=="_"&&this._emitLine('context.addExport("'+o+'");'),this._emitLine('context.setVariable("'+o+'", '+a+");"))},l.compileCaller=function(t,r){this._emit("(function (){");var a=this._compileMacro(t,r);this._emit("return "+a+";})()")},l._compileGetTemplate=function(t,r,a,o){var s=this._tmpid(),u=this._templateName(),c=this._makeCallback(s),k=a?"true":"false",L=o?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(t.template,r),this._emitLine(", "+k+", "+u+", "+L+", "+c),s},l.compileImport=function(t,r){var a=t.target.value,o=this._compileGetTemplate(t,r,!1,!1);this._addScopeLevel(),this._emitLine(o+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(o)),this._addScopeLevel(),r.set(a,o),r.parent?this._emitLine('frame.set("'+a+'", '+o+");"):this._emitLine('context.setVariable("'+a+'", '+o+");")},l.compileFromImport=function(t,r){var a=this,o=this._compileGetTemplate(t,r,!1,!1);this._addScopeLevel(),this._emitLine(o+".getExported("+(t.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(o)),this._addScopeLevel(),t.names.children.forEach(function(s){var u,c,k=a._tmpid();s instanceof g.Pair?(u=s.key.value,c=s.value.value):(u=s.value,c=u),a._emitLine("if(Object.prototype.hasOwnProperty.call("+o+', "'+u+'")) {'),a._emitLine("var "+k+" = "+o+"."+u+";"),a._emitLine("} else {"),a._emitLine(`cb(new Error("cannot import '`+u+`'")); return;`),a._emitLine("}"),r.set(c,k),r.parent?a._emitLine('frame.set("'+c+'", '+k+");"):a._emitLine('context.setVariable("'+c+'", '+k+");")})},l.compileBlock=function(t){var r=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+t.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(r)),this._emitLine(this.buffer+" += "+r+";"),this._addScopeLevel()},l.compileSuper=function(t,r){var a=t.blockName.value,o=t.symbol.value,s=this._makeCallback(o);this._emitLine('context.getSuper(env, "'+a+'", b_'+a+", frame, runtime, "+s),this._emitLine(o+" = runtime.markSafe("+o+");"),this._addScopeLevel(),r.set(o,o)},l.compileExtends=function(t,r){var a=this._tmpid(),o=this._compileGetTemplate(t,r,!0,!1);this._emitLine("parentTemplate = "+o),this._emitLine("for(var "+a+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+a+", parentTemplate.blocks["+a+"]);"),this._emitLine("}"),this._addScopeLevel()},l.compileInclude=function(t,r){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var a=this._compileGetTemplate(t,r,!1,t.ignoreMissing);this._emitLine("callback(null,"+a+");});"),this._emitLine("});");var o=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(o)),this._emitLine("callback(null,"+o+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},l.compileTemplateData=function(t,r){this.compileLiteral(t,r)},l.compileCapture=function(t,r){var a=this,o=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax(function(){a.compile(t.body,r)}),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=o},l.compileOutput=function(t,r){var a=this,o=t.children;o.forEach(function(s){s instanceof g.TemplateData?s.value&&(a._emit(a.buffer+" += "),a.compileLiteral(s,r),a._emitLine(";")):(a._emit(a.buffer+" += runtime.suppressValue("),a.throwOnUndefined&&a._emit("runtime.ensureDefined("),a.compile(s,r),a.throwOnUndefined&&a._emit(","+t.lineno+","+t.colno+")"),a._emit(`, env.opts.autoescape);
`))})},l.compileRoot=function(t,r){var a=this;r&&this.fail("compileRoot: root node can't have frame"),r=new C,this._emitFuncBegin(t,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(t,r),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var o=[],s=t.findAll(g.Block);s.forEach(function(u,c){var k=u.name.value;if(o.indexOf(k)!==-1)throw new Error('Block "'+k+'" defined more than once.');o.push(k),a._emitFuncBegin(u,"b_"+k);var L=new C;a._emitLine("var frame = frame.push(true);"),a.compile(u.body,L),a._emitFuncEnd()}),this._emitLine("return {"),s.forEach(function(u,c){var k="b_"+u.name.value;a._emitLine(k+": "+k+",")}),this._emitLine(`root: root
};`)},l.compile=function(t,r){var a=this["compile"+t.typename];a?a.call(this,t,r):this.fail("compile: Cannot compile node: "+t.typename,t.lineno,t.colno)},l.getCode=function(){return this.codebuf.join("")},p}(T);G.exports={compile:function(p,l,h,t,r){r===void 0&&(r={});var a=new n(t,r.throwOnUndefined),o=(h||[]).map(function(u){return u.preprocess}).filter(function(u){return!!u}),s=o.reduce(function(u,c){return c(u)},p);return a.compile(E.transform(m.parse(s,h,r),l,t)),a.getCode()},Compiler:n}},function(G,j,N){function y(O,P){O.prototype=Object.create(P.prototype),O.prototype.constructor=O,x(O,P)}function x(O,P){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,_){return C.__proto__=_,C},x(O,P)}var m=N(4),E=N(1),g=E.EmitterObj;G.exports=function(O){y(P,O);function P(){return O.apply(this,arguments)||this}var I=P.prototype;return I.resolve=function(_,T){return m.resolve(m.dirname(_),T)},I.isRelative=function(_){return _.indexOf("./")===0||_.indexOf("../")===0},P}(g)},function(G,j,N){function y(L,b){L.prototype=Object.create(b.prototype),L.prototype.constructor=L,x(L,b)}function x(L,b){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,d){return R.__proto__=d,R},x(L,b)}var m=N(12),E=N(15),g=N(0),O=N(5),P=N(18),I=N(10),C=I.FileSystemLoader,_=I.WebLoader,T=I.PrecompiledLoader,e=N(20),n=N(21),i=N(1),p=i.Obj,l=i.EmitterObj,h=N(2),t=h.handleError,r=h.Frame,a=N(22);function o(L,b,A){m(function(){L(b,A)})}var s={type:"code",obj:{root:function(b,A,R,d,f){try{f(null,"")}catch(w){f(t(w,null,null))}}}},u=function(L){y(b,L);function b(){return L.apply(this,arguments)||this}var A=b.prototype;return A.init=function(d,f){var w=this;f=this.opts=f||{},this.opts.dev=!!f.dev,this.opts.autoescape=f.autoescape!=null?f.autoescape:!0,this.opts.throwOnUndefined=!!f.throwOnUndefined,this.opts.trimBlocks=!!f.trimBlocks,this.opts.lstripBlocks=!!f.lstripBlocks,this.loaders=[],d?this.loaders=g.isArray(d)?d:[d]:C?this.loaders=[new C("views")]:_&&(this.loaders=[new _("/views")]),typeof window<"u"&&window.nunjucksPrecompiled&&this.loaders.unshift(new T(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=n(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],g._entries(P).forEach(function(F){var B=F[0],U=F[1];return w.addFilter(B,U)}),g._entries(e).forEach(function(F){var B=F[0],U=F[1];return w.addTest(B,U)})},A._initLoaders=function(){var d=this;this.loaders.forEach(function(f){f.cache={},typeof f.on=="function"&&(f.on("update",function(w,F){f.cache[w]=null,d.emit("update",w,F,f)}),f.on("load",function(w,F){d.emit("load",w,F,f)}))})},A.invalidateCache=function(){this.loaders.forEach(function(d){d.cache={}})},A.addExtension=function(d,f){return f.__name=d,this.extensions[d]=f,this.extensionsList.push(f),this},A.removeExtension=function(d){var f=this.getExtension(d);f&&(this.extensionsList=g.without(this.extensionsList,f),delete this.extensions[d])},A.getExtension=function(d){return this.extensions[d]},A.hasExtension=function(d){return!!this.extensions[d]},A.addGlobal=function(d,f){return this.globals[d]=f,this},A.getGlobal=function(d){if(typeof this.globals[d]>"u")throw new Error("global not found: "+d);return this.globals[d]},A.addFilter=function(d,f,w){var F=f;return w&&this.asyncFilters.push(d),this.filters[d]=F,this},A.getFilter=function(d){if(!this.filters[d])throw new Error("filter not found: "+d);return this.filters[d]},A.addTest=function(d,f){return this.tests[d]=f,this},A.getTest=function(d){if(!this.tests[d])throw new Error("test not found: "+d);return this.tests[d]},A.resolveTemplate=function(d,f,w){var F=d.isRelative&&f?d.isRelative(w):!1;return F&&d.resolve?d.resolve(f,w):w},A.getTemplate=function(d,f,w,F,B){var U=this,q=this,z=null;if(d&&d.raw&&(d=d.raw),g.isFunction(w)&&(B=w,w=null,f=f||!1),g.isFunction(f)&&(B=f,f=!1),d instanceof k)z=d;else{if(typeof d!="string")throw new Error("template names must be a string: "+d);for(var se=0;se<this.loaders.length;se++){var ce=this.loaders[se];if(z=ce.cache[this.resolveTemplate(ce,w,d)],z)break}}if(z)if(f&&z.compile(),B){B(null,z);return}else return z;var X,Q=function(W,V){if(!V&&!W&&!F&&(W=new Error("template not found: "+d)),W)if(B){B(W);return}else throw W;var te;V?(te=new k(V.src,U,V.path,f),V.noCache||(V.loader.cache[d]=te)):te=new k(s,U,"",f),B?B(null,te):X=te};return g.asyncIter(this.loaders,function(D,W,V,te){function ue(le,me){le?te(le):me?(me.loader=D,te(null,me)):V()}d=q.resolveTemplate(D,w,d),D.async?D.getSource(d,ue):ue(null,D.getSource(d))},Q),X},A.express=function(d){return a(this,d)},A.render=function(d,f,w){g.isFunction(f)&&(w=f,f=null);var F=null;return this.getTemplate(d,function(B,U){if(B&&w)o(w,B);else{if(B)throw B;F=U.render(f,w)}}),F},A.renderString=function(d,f,w,F){g.isFunction(w)&&(F=w,w={}),w=w||{};var B=new k(d,this,w.path);return B.render(f,F)},A.waterfall=function(d,f,w){return E(d,f,w)},b}(l),c=function(L){y(b,L);function b(){return L.apply(this,arguments)||this}var A=b.prototype;return A.init=function(d,f,w){var F=this;this.env=w||new u,this.ctx=g.extend({},d),this.blocks={},this.exported=[],g.keys(f).forEach(function(B){F.addBlock(B,f[B])})},A.lookup=function(d){return d in this.env.globals&&!(d in this.ctx)?this.env.globals[d]:this.ctx[d]},A.setVariable=function(d,f){this.ctx[d]=f},A.getVariables=function(){return this.ctx},A.addBlock=function(d,f){return this.blocks[d]=this.blocks[d]||[],this.blocks[d].push(f),this},A.getBlock=function(d){if(!this.blocks[d])throw new Error('unknown block "'+d+'"');return this.blocks[d][0]},A.getSuper=function(d,f,w,F,B,U){var q=g.indexOf(this.blocks[f]||[],w),z=this.blocks[f][q+1],se=this;if(q===-1||!z)throw new Error('no super block available for "'+f+'"');z(d,se,F,B,U)},A.addExport=function(d){this.exported.push(d)},A.getExported=function(){var d=this,f={};return this.exported.forEach(function(w){f[w]=d.ctx[w]}),f},b}(p),k=function(L){y(b,L);function b(){return L.apply(this,arguments)||this}var A=b.prototype;return A.init=function(d,f,w,F){if(this.env=f||new u,g.isObject(d))switch(d.type){case"code":this.tmplProps=d.obj;break;case"string":this.tmplStr=d.obj;break;default:throw new Error("Unexpected template object type "+d.type+"; expected 'code', or 'string'")}else if(g.isString(d))this.tmplStr=d;else throw new Error("src must be a string or an object describing the source");if(this.path=w,F)try{this._compile()}catch(B){throw g._prettifyError(this.path,this.env.opts.dev,B)}else this.compiled=!1},A.render=function(d,f,w){var F=this;typeof d=="function"?(w=d,d={}):typeof f=="function"&&(w=f,f=null);var B=!f;try{this.compile()}catch(X){var U=g._prettifyError(this.path,this.env.opts.dev,X);if(w)return o(w,U);throw U}var q=new c(d||{},this.blocks,this.env),z=f?f.push(!0):new r;z.topLevel=!0;var se=null,ce=!1;return this.rootRenderFunc(this.env,q,z,h,function(X,Q){if(!(ce&&w&&typeof Q<"u"))if(X&&(X=g._prettifyError(F.path,F.env.opts.dev,X),ce=!0),w)B?o(w,X,Q):w(X,Q);else{if(X)throw X;se=Q}}),se},A.getExported=function(d,f,w){typeof d=="function"&&(w=d,d={}),typeof f=="function"&&(w=f,f=null);try{this.compile()}catch(U){if(w)return w(U);throw U}var F=f?f.push():new r;F.topLevel=!0;var B=new c(d||{},this.blocks,this.env);this.rootRenderFunc(this.env,B,F,h,function(U){U?w(U,null):w(null,B.getExported())})},A.compile=function(){this.compiled||this._compile()},A._compile=function(){var d;if(this.tmplProps)d=this.tmplProps;else{var f=O.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts),w=new Function(f);d=w()}this.blocks=this._getBlocks(d),this.rootRenderFunc=d.root,this.compiled=!0},A._getBlocks=function(d){var f={};return g.keys(d).forEach(function(w){w.slice(0,2)==="b_"&&(f[w.slice(2)]=d[w])}),f},b}(p);G.exports={Environment:u,Template:k}},function(G,j,N){function y(I,C){I.prototype=Object.create(C.prototype),I.prototype.constructor=I,x(I,C)}function x(I,C){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,e){return T.__proto__=e,T},x(I,C)}var m=N(9),E=N(3),g=N(1).Obj,O=N(0),P=function(I){y(C,I);function C(){return I.apply(this,arguments)||this}var _=C.prototype;return _.init=function(e){this.tokens=e,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},_.nextToken=function(e){var n;if(this.peeked)if(!e&&this.peeked.type===m.TOKEN_WHITESPACE)this.peeked=null;else return n=this.peeked,this.peeked=null,n;if(n=this.tokens.nextToken(),!e)for(;n&&n.type===m.TOKEN_WHITESPACE;)n=this.tokens.nextToken();return n},_.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},_.pushToken=function(e){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=e},_.error=function(e,n,i){if(n===void 0||i===void 0){var p=this.peekToken()||{};n=p.lineno,i=p.colno}return n!==void 0&&(n+=1),i!==void 0&&(i+=1),new O.TemplateError(e,n,i)},_.fail=function(e,n,i){throw this.error(e,n,i)},_.skip=function(e){var n=this.nextToken();return!n||n.type!==e?(this.pushToken(n),!1):!0},_.expect=function(e){var n=this.nextToken();return n.type!==e&&this.fail("expected "+e+", got "+n.type,n.lineno,n.colno),n},_.skipValue=function(e,n){var i=this.nextToken();return!i||i.type!==e||i.value!==n?(this.pushToken(i),!1):!0},_.skipSymbol=function(e){return this.skipValue(m.TOKEN_SYMBOL,e)},_.advanceAfterBlockEnd=function(e){var n;return e||(n=this.peekToken(),n||this.fail("unexpected end of file"),n.type!==m.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),e=this.nextToken().value),n=this.nextToken(),n&&n.type===m.TOKEN_BLOCK_END?n.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+e+" statement"),n},_.advanceAfterVariableEnd=function(){var e=this.nextToken();e&&e.type===m.TOKEN_VARIABLE_END?this.dropLeadingWhitespace=e.value.charAt(e.value.length-this.tokens.tags.VARIABLE_END.length-1)==="-":(this.pushToken(e),this.fail("expected variable end"))},_.parseFor=function(){var e=this.peekToken(),n,i;this.skipSymbol("for")?(n=new E.For(e.lineno,e.colno),i="endfor"):this.skipSymbol("asyncEach")?(n=new E.AsyncEach(e.lineno,e.colno),i="endeach"):this.skipSymbol("asyncAll")?(n=new E.AsyncAll(e.lineno,e.colno),i="endall"):this.fail("parseFor: expected for{Async}",e.lineno,e.colno),n.name=this.parsePrimary(),n.name instanceof E.Symbol||this.fail("parseFor: variable name expected for loop");var p=this.peekToken().type;if(p===m.TOKEN_COMMA){var l=n.name;for(n.name=new E.Array(l.lineno,l.colno),n.name.addChild(l);this.skip(m.TOKEN_COMMA);){var h=this.parsePrimary();n.name.addChild(h)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',e.lineno,e.colno),n.arr=this.parseExpression(),this.advanceAfterBlockEnd(e.value),n.body=this.parseUntilBlocks(i,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),n.else_=this.parseUntilBlocks(i)),this.advanceAfterBlockEnd(),n},_.parseMacro=function(){var e=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var n=this.parsePrimary(!0),i=this.parseSignature(),p=new E.Macro(e.lineno,e.colno,n,i);return this.advanceAfterBlockEnd(e.value),p.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),p},_.parseCall=function(){var e=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var n=this.parseSignature(!0)||new E.NodeList,i=this.parsePrimary();this.advanceAfterBlockEnd(e.value);var p=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var l=new E.Symbol(e.lineno,e.colno,"caller"),h=new E.Caller(e.lineno,e.colno,l,n,p),t=i.args.children;t[t.length-1]instanceof E.KeywordArgs||t.push(new E.KeywordArgs);var r=t[t.length-1];return r.addChild(new E.Pair(e.lineno,e.colno,l,h)),new E.Output(e.lineno,e.colno,[i])},_.parseWithContext=function(){var e=this.peekToken(),n=null;return this.skipSymbol("with")?n=!0:this.skipSymbol("without")&&(n=!1),n!==null&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",e.lineno,e.colno)),n},_.parseImport=function(){var e=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",e.lineno,e.colno);var n=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',e.lineno,e.colno);var i=this.parseExpression(),p=this.parseWithContext(),l=new E.Import(e.lineno,e.colno,n,i,p);return this.advanceAfterBlockEnd(e.value),l},_.parseFrom=function(){var e=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var n=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",e.lineno,e.colno);for(var i=new E.NodeList,p;;){var l=this.peekToken();if(l.type===m.TOKEN_BLOCK_END){i.children.length||this.fail("parseFrom: Expected at least one import name",e.lineno,e.colno),l.value.charAt(0)==="-"&&(this.dropLeadingWhitespace=!0),this.nextToken();break}i.children.length>0&&!this.skip(m.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",e.lineno,e.colno);var h=this.parsePrimary();if(h.value.charAt(0)==="_"&&this.fail("parseFrom: names starting with an underscore cannot be imported",h.lineno,h.colno),this.skipSymbol("as")){var t=this.parsePrimary();i.addChild(new E.Pair(h.lineno,h.colno,h,t))}else i.addChild(h);p=this.parseWithContext()}return new E.FromImport(e.lineno,e.colno,n,i,p)},_.parseBlock=function(){var e=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",e.lineno,e.colno);var n=new E.Block(e.lineno,e.colno);n.name=this.parsePrimary(),n.name instanceof E.Symbol||this.fail("parseBlock: variable name expected",e.lineno,e.colno),this.advanceAfterBlockEnd(e.value),n.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(n.name.value);var i=this.peekToken();return i||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(i.value),n},_.parseExtends=function(){var e="extends",n=this.peekToken();this.skipSymbol(e)||this.fail("parseTemplateRef: expected "+e);var i=new E.Extends(n.lineno,n.colno);return i.template=this.parseExpression(),this.advanceAfterBlockEnd(n.value),i},_.parseInclude=function(){var e="include",n=this.peekToken();this.skipSymbol(e)||this.fail("parseInclude: expected "+e);var i=new E.Include(n.lineno,n.colno);return i.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(i.ignoreMissing=!0),this.advanceAfterBlockEnd(n.value),i},_.parseIf=function(){var e=this.peekToken(),n;this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?n=new E.If(e.lineno,e.colno):this.skipSymbol("ifAsync")?n=new E.IfAsync(e.lineno,e.colno):this.fail("parseIf: expected if, elif, or elseif",e.lineno,e.colno),n.cond=this.parseExpression(),this.advanceAfterBlockEnd(e.value),n.body=this.parseUntilBlocks("elif","elseif","else","endif");var i=this.peekToken();switch(i&&i.value){case"elseif":case"elif":n.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),n.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":n.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return n},_.parseSet=function(){var e=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",e.lineno,e.colno);for(var n=new E.Set(e.lineno,e.colno,[]),i;(i=this.parsePrimary())&&(n.targets.push(i),!!this.skip(m.TOKEN_COMMA)););return this.skipValue(m.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(e.value)):this.skip(m.TOKEN_BLOCK_END)?(n.body=new E.Capture(e.lineno,e.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",e.lineno,e.colno),n},_.parseSwitch=function(){var e="switch",n="endswitch",i="case",p="default",l=this.peekToken();!this.skipSymbol(e)&&!this.skipSymbol(i)&&!this.skipSymbol(p)&&this.fail('parseSwitch: expected "switch," "case" or "default"',l.lineno,l.colno);var h=this.parseExpression();this.advanceAfterBlockEnd(e),this.parseUntilBlocks(i,p,n);var t=this.peekToken(),r=[],a;do{this.skipSymbol(i);var o=this.parseExpression();this.advanceAfterBlockEnd(e);var s=this.parseUntilBlocks(i,p,n);r.push(new E.Case(t.line,t.col,o,s)),t=this.peekToken()}while(t&&t.value===i);switch(t.value){case p:this.advanceAfterBlockEnd(),a=this.parseUntilBlocks(n),this.advanceAfterBlockEnd();break;case n:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new E.Switch(l.lineno,l.colno,h,r,a)},_.parseStatement=function(){var e=this.peekToken(),n;if(e.type!==m.TOKEN_SYMBOL&&this.fail("tag name expected",e.lineno,e.colno),this.breakOnBlocks&&O.indexOf(this.breakOnBlocks,e.value)!==-1)return null;switch(e.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var i=0;i<this.extensions.length;i++){var p=this.extensions[i];if(O.indexOf(p.tags||[],e.value)!==-1)return p.parse(this,E,m)}this.fail("unknown block tag: "+e.value,e.lineno,e.colno)}return n},_.parseRaw=function(e){e=e||"raw";for(var n="end"+e,i=new RegExp("([\\s\\S]*?){%\\s*("+e+"|"+n+")\\s*(?=%})%}"),p=1,l="",h=null,t=this.advanceAfterBlockEnd();(h=this.tokens._extractRegex(i))&&p>0;){var r=h[0],a=h[1],o=h[2];o===e?p+=1:o===n&&(p-=1),p===0?(l+=a,this.tokens.backN(r.length-a.length)):l+=r}return new E.Output(t.lineno,t.colno,[new E.TemplateData(t.lineno,t.colno,l)])},_.parsePostfix=function(e){for(var n,i=this.peekToken();i;){if(i.type===m.TOKEN_LEFT_PAREN)e=new E.FunCall(i.lineno,i.colno,e,this.parseSignature());else if(i.type===m.TOKEN_LEFT_BRACKET)n=this.parseAggregate(),n.children.length>1&&this.fail("invalid index"),e=new E.LookupVal(i.lineno,i.colno,e,n.children[0]);else if(i.type===m.TOKEN_OPERATOR&&i.value==="."){this.nextToken();var p=this.nextToken();p.type!==m.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+p.value,p.lineno,p.colno),n=new E.Literal(p.lineno,p.colno,p.value),e=new E.LookupVal(i.lineno,i.colno,e,n)}else break;i=this.peekToken()}return e},_.parseExpression=function(){var e=this.parseInlineIf();return e},_.parseInlineIf=function(){var e=this.parseOr();if(this.skipSymbol("if")){var n=this.parseOr(),i=e;e=new E.InlineIf(e.lineno,e.colno),e.body=i,e.cond=n,this.skipSymbol("else")?e.else_=this.parseOr():e.else_=null}return e},_.parseOr=function(){for(var e=this.parseAnd();this.skipSymbol("or");){var n=this.parseAnd();e=new E.Or(e.lineno,e.colno,e,n)}return e},_.parseAnd=function(){for(var e=this.parseNot();this.skipSymbol("and");){var n=this.parseNot();e=new E.And(e.lineno,e.colno,e,n)}return e},_.parseNot=function(){var e=this.peekToken();return this.skipSymbol("not")?new E.Not(e.lineno,e.colno,this.parseNot()):this.parseIn()},_.parseIn=function(){for(var e=this.parseIs();;){var n=this.nextToken();if(!n)break;var i=n.type===m.TOKEN_SYMBOL&&n.value==="not";if(i||this.pushToken(n),this.skipSymbol("in")){var p=this.parseIs();e=new E.In(e.lineno,e.colno,e,p),i&&(e=new E.Not(e.lineno,e.colno,e))}else{i&&this.pushToken(n);break}}return e},_.parseIs=function(){var e=this.parseCompare();if(this.skipSymbol("is")){var n=this.skipSymbol("not"),i=this.parseCompare();e=new E.Is(e.lineno,e.colno,e,i),n&&(e=new E.Not(e.lineno,e.colno,e))}return e},_.parseCompare=function(){for(var e=["==","===","!=","!==","<",">","<=",">="],n=this.parseConcat(),i=[];;){var p=this.nextToken();if(p)if(e.indexOf(p.value)!==-1)i.push(new E.CompareOperand(p.lineno,p.colno,this.parseConcat(),p.value));else{this.pushToken(p);break}else break}return i.length?new E.Compare(i[0].lineno,i[0].colno,n,i):n},_.parseConcat=function(){for(var e=this.parseAdd();this.skipValue(m.TOKEN_TILDE,"~");){var n=this.parseAdd();e=new E.Concat(e.lineno,e.colno,e,n)}return e},_.parseAdd=function(){for(var e=this.parseSub();this.skipValue(m.TOKEN_OPERATOR,"+");){var n=this.parseSub();e=new E.Add(e.lineno,e.colno,e,n)}return e},_.parseSub=function(){for(var e=this.parseMul();this.skipValue(m.TOKEN_OPERATOR,"-");){var n=this.parseMul();e=new E.Sub(e.lineno,e.colno,e,n)}return e},_.parseMul=function(){for(var e=this.parseDiv();this.skipValue(m.TOKEN_OPERATOR,"*");){var n=this.parseDiv();e=new E.Mul(e.lineno,e.colno,e,n)}return e},_.parseDiv=function(){for(var e=this.parseFloorDiv();this.skipValue(m.TOKEN_OPERATOR,"/");){var n=this.parseFloorDiv();e=new E.Div(e.lineno,e.colno,e,n)}return e},_.parseFloorDiv=function(){for(var e=this.parseMod();this.skipValue(m.TOKEN_OPERATOR,"//");){var n=this.parseMod();e=new E.FloorDiv(e.lineno,e.colno,e,n)}return e},_.parseMod=function(){for(var e=this.parsePow();this.skipValue(m.TOKEN_OPERATOR,"%");){var n=this.parsePow();e=new E.Mod(e.lineno,e.colno,e,n)}return e},_.parsePow=function(){for(var e=this.parseUnary();this.skipValue(m.TOKEN_OPERATOR,"**");){var n=this.parseUnary();e=new E.Pow(e.lineno,e.colno,e,n)}return e},_.parseUnary=function(e){var n=this.peekToken(),i;return this.skipValue(m.TOKEN_OPERATOR,"-")?i=new E.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(m.TOKEN_OPERATOR,"+")?i=new E.Pos(n.lineno,n.colno,this.parseUnary(!0)):i=this.parsePrimary(),e||(i=this.parseFilter(i)),i},_.parsePrimary=function(e){var n=this.nextToken(),i,p=null;if(n?n.type===m.TOKEN_STRING?i=n.value:n.type===m.TOKEN_INT?i=parseInt(n.value,10):n.type===m.TOKEN_FLOAT?i=parseFloat(n.value):n.type===m.TOKEN_BOOLEAN?n.value==="true"?i=!0:n.value==="false"?i=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===m.TOKEN_NONE?i=null:n.type===m.TOKEN_REGEX&&(i=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),i!==void 0?p=new E.Literal(n.lineno,n.colno,i):n.type===m.TOKEN_SYMBOL?p=new E.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),p=this.parseAggregate()),e||(p=this.parsePostfix(p)),p)return p;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},_.parseFilterName=function(){for(var e=this.expect(m.TOKEN_SYMBOL),n=e.value;this.skipValue(m.TOKEN_OPERATOR,".");)n+="."+this.expect(m.TOKEN_SYMBOL).value;return new E.Symbol(e.lineno,e.colno,n)},_.parseFilterArgs=function(e){if(this.peekToken().type===m.TOKEN_LEFT_PAREN){var n=this.parsePostfix(e);return n.args.children}return[]},_.parseFilter=function(e){for(;this.skip(m.TOKEN_PIPE);){var n=this.parseFilterName();e=new E.Filter(n.lineno,n.colno,n,new E.NodeList(n.lineno,n.colno,[e].concat(this.parseFilterArgs(e))))}return e},_.parseFilterStatement=function(){var e=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var n=this.parseFilterName(),i=this.parseFilterArgs(n);this.advanceAfterBlockEnd(e.value);var p=new E.Capture(n.lineno,n.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var l=new E.Filter(n.lineno,n.colno,n,new E.NodeList(n.lineno,n.colno,[p].concat(i)));return new E.Output(n.lineno,n.colno,[l])},_.parseAggregate=function(){var e=this.nextToken(),n;switch(e.type){case m.TOKEN_LEFT_PAREN:n=new E.Group(e.lineno,e.colno);break;case m.TOKEN_LEFT_BRACKET:n=new E.Array(e.lineno,e.colno);break;case m.TOKEN_LEFT_CURLY:n=new E.Dict(e.lineno,e.colno);break;default:return null}for(;;){var i=this.peekToken().type;if(i===m.TOKEN_RIGHT_PAREN||i===m.TOKEN_RIGHT_BRACKET||i===m.TOKEN_RIGHT_CURLY){this.nextToken();break}if(n.children.length>0&&(this.skip(m.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",e.lineno,e.colno)),n instanceof E.Dict){var p=this.parsePrimary();this.skip(m.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",e.lineno,e.colno);var l=this.parseExpression();n.addChild(new E.Pair(p.lineno,p.colno,p,l))}else{var h=this.parseExpression();n.addChild(h)}}return n},_.parseSignature=function(e,n){var i=this.peekToken();if(!n&&i.type!==m.TOKEN_LEFT_PAREN){if(e)return null;this.fail("expected arguments",i.lineno,i.colno)}i.type===m.TOKEN_LEFT_PAREN&&(i=this.nextToken());for(var p=new E.NodeList(i.lineno,i.colno),l=new E.KeywordArgs(i.lineno,i.colno),h=!1;;){if(i=this.peekToken(),!n&&i.type===m.TOKEN_RIGHT_PAREN){this.nextToken();break}else if(n&&i.type===m.TOKEN_BLOCK_END)break;if(h&&!this.skip(m.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",i.lineno,i.colno);else{var t=this.parseExpression();this.skipValue(m.TOKEN_OPERATOR,"=")?l.addChild(new E.Pair(t.lineno,t.colno,t,this.parseExpression())):p.addChild(t)}h=!0}return l.children.length&&p.addChild(l),p},_.parseUntilBlocks=function(){for(var e=this.breakOnBlocks,n=arguments.length,i=new Array(n),p=0;p<n;p++)i[p]=arguments[p];this.breakOnBlocks=i;var l=this.parse();return this.breakOnBlocks=e,l},_.parseNodes=function(){for(var e,n=[];e=this.nextToken();)if(e.type===m.TOKEN_DATA){var i=e.value,p=this.peekToken(),l=p&&p.value;this.dropLeadingWhitespace&&(i=i.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),p&&(p.type===m.TOKEN_BLOCK_START&&l.charAt(l.length-1)==="-"||p.type===m.TOKEN_VARIABLE_START&&l.charAt(this.tokens.tags.VARIABLE_START.length)==="-"||p.type===m.TOKEN_COMMENT&&l.charAt(this.tokens.tags.COMMENT_START.length)==="-")&&(i=i.replace(/\s*$/,"")),n.push(new E.Output(e.lineno,e.colno,[new E.TemplateData(e.lineno,e.colno,i)]))}else if(e.type===m.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var h=this.parseStatement();if(!h)break;n.push(h)}else if(e.type===m.TOKEN_VARIABLE_START){var t=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),n.push(new E.Output(e.lineno,e.colno,[t]))}else e.type===m.TOKEN_COMMENT?this.dropLeadingWhitespace=e.value.charAt(e.value.length-this.tokens.tags.COMMENT_END.length-1)==="-":this.fail("Unexpected token at top-level: "+e.type,e.lineno,e.colno);return n},_.parse=function(){return new E.NodeList(0,0,this.parseNodes())},_.parseAsRoot=function(){return new E.Root(0,0,this.parseNodes())},C}(g);G.exports={parse:function(C,_,T){var e=new P(m.lex(C,T));return _!==void 0&&(e.extensions=_),e.parseAsRoot()},Parser:P}},function(G,j,N){var y=N(0),x=` 
	\r`,m="()[]{}%*-+~/#,:|.<>=!",E="0123456789",g="{%",O="%}",P="{{",I="}}",C="{#",_="#}",T="string",e="whitespace",n="data",i="block-start",p="block-end",l="variable-start",h="variable-end",t="comment",r="left-paren",a="right-paren",o="left-bracket",s="right-bracket",u="left-curly",c="right-curly",k="operator",L="comma",b="colon",A="tilde",R="pipe",d="int",f="float",w="boolean",F="none",B="symbol",U="special",q="regex";function z(ce,X,Q,D){return{type:ce,value:X,lineno:Q,colno:D}}var se=function(){function ce(Q,D){this.str=Q,this.index=0,this.len=Q.length,this.lineno=0,this.colno=0,this.in_code=!1,D=D||{};var W=D.tags||{};this.tags={BLOCK_START:W.blockStart||g,BLOCK_END:W.blockEnd||O,VARIABLE_START:W.variableStart||P,VARIABLE_END:W.variableEnd||I,COMMENT_START:W.commentStart||C,COMMENT_END:W.commentEnd||_},this.trimBlocks=!!D.trimBlocks,this.lstripBlocks=!!D.lstripBlocks}var X=ce.prototype;return X.nextToken=function(){var D=this.lineno,W=this.colno,V;if(this.in_code){var te=this.current();if(this.isFinished())return null;if(te==='"'||te==="'")return z(T,this._parseString(te),D,W);if(V=this._extract(x))return z(e,V,D,W);if((V=this._extractString(this.tags.BLOCK_END))||(V=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&(te=this.current(),te===`
`?this.forward():te==="\r"&&(this.forward(),te=this.current(),te===`
`?this.forward():this.back())),z(p,V,D,W);if((V=this._extractString(this.tags.VARIABLE_END))||(V=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,z(h,V,D,W);if(te==="r"&&this.str.charAt(this.index+1)==="/"){this.forwardN(2);for(var ue="";!this.isFinished();)if(this.current()==="/"&&this.previous()!=="\\"){this.forward();break}else ue+=this.current(),this.forward();for(var le=["g","i","m","y"],me="";!this.isFinished();){var v=le.indexOf(this.current())!==-1;if(v)me+=this.current(),this.forward();else break}return z(q,{body:ue,flags:me},D,W)}else if(m.indexOf(te)!==-1){this.forward();var S=["==","===","!=","!==","<=",">=","//","**"],M=te+this.current(),K;switch(y.indexOf(S,M)!==-1&&(this.forward(),te=M,y.indexOf(S,M+this.current())!==-1&&(te=M+this.current(),this.forward())),te){case"(":K=r;break;case")":K=a;break;case"[":K=o;break;case"]":K=s;break;case"{":K=u;break;case"}":K=c;break;case",":K=L;break;case":":K=b;break;case"~":K=A;break;case"|":K=R;break;default:K=k}return z(K,te,D,W)}else if(V=this._extractUntil(x+m),V.match(/^[-+]?[0-9]+$/))if(this.current()==="."){this.forward();var $=this._extract(E);return z(f,V+"."+$,D,W)}else return z(d,V,D,W);else{if(V.match(/^(true|false)$/))return z(w,V,D,W);if(V==="none")return z(F,V,D,W);if(V==="null")return z(F,V,D,W);if(V)return z(B,V,D,W);throw new Error("Unexpected value while parsing: "+V)}}else{var J=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((V=this._extractString(this.tags.BLOCK_START+"-"))||(V=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,z(i,V,D,W);if((V=this._extractString(this.tags.VARIABLE_START+"-"))||(V=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,z(l,V,D,W);V="";var re,Z=!1;for(this._matches(this.tags.COMMENT_START)&&(Z=!0,V=this._extractString(this.tags.COMMENT_START));(re=this._extractUntil(J))!==null;)if(V+=re,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!Z){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=V.length){var oe=V.slice(-this.colno);if(/^\s+$/.test(oe)&&(V=V.slice(0,-this.colno),!V.length))return this.nextToken()}break}else if(this._matches(this.tags.COMMENT_END)){if(!Z)throw new Error("unexpected end of comment");V+=this._extractString(this.tags.COMMENT_END);break}else V+=this.current(),this.forward();if(re===null&&Z)throw new Error("expected end of comment, got end of file");return z(Z?t:n,V,D,W)}},X._parseString=function(D){this.forward();for(var W="";!this.isFinished()&&this.current()!==D;){var V=this.current();if(V==="\\"){switch(this.forward(),this.current()){case"n":W+=`
`;break;case"t":W+="	";break;case"r":W+="\r";break;default:W+=this.current()}this.forward()}else W+=V,this.forward()}return this.forward(),W},X._matches=function(D){if(this.index+D.length>this.len)return null;var W=this.str.slice(this.index,this.index+D.length);return W===D},X._extractString=function(D){return this._matches(D)?(this.forwardN(D.length),D):null},X._extractUntil=function(D){return this._extractMatching(!0,D||"")},X._extract=function(D){return this._extractMatching(!1,D)},X._extractMatching=function(D,W){if(this.isFinished())return null;var V=W.indexOf(this.current());if(D&&V===-1||!D&&V!==-1){var te=this.current();this.forward();for(var ue=W.indexOf(this.current());(D&&ue===-1||!D&&ue!==-1)&&!this.isFinished();)te+=this.current(),this.forward(),ue=W.indexOf(this.current());return te}return""},X._extractRegex=function(D){var W=this.currentStr().match(D);return W?(this.forwardN(W[0].length),W):null},X.isFinished=function(){return this.index>=this.len},X.forwardN=function(D){for(var W=0;W<D;W++)this.forward()},X.forward=function(){this.index++,this.previous()===`
`?(this.lineno++,this.colno=0):this.colno++},X.backN=function(D){for(var W=0;W<D;W++)this.back()},X.back=function(){if(this.index--,this.current()===`
`){this.lineno--;var D=this.src.lastIndexOf(`
`,this.index-1);D===-1?this.colno=this.index:this.colno=this.index-D}else this.colno--},X.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},X.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},X.previous=function(){return this.str.charAt(this.index-1)},ce}();G.exports={lex:function(X,Q){return new se(X,Q)},TOKEN_STRING:T,TOKEN_WHITESPACE:e,TOKEN_DATA:n,TOKEN_BLOCK_START:i,TOKEN_BLOCK_END:p,TOKEN_VARIABLE_START:l,TOKEN_VARIABLE_END:h,TOKEN_COMMENT:t,TOKEN_LEFT_PAREN:r,TOKEN_RIGHT_PAREN:a,TOKEN_LEFT_BRACKET:o,TOKEN_RIGHT_BRACKET:s,TOKEN_LEFT_CURLY:u,TOKEN_RIGHT_CURLY:c,TOKEN_OPERATOR:k,TOKEN_COMMA:L,TOKEN_COLON:b,TOKEN_TILDE:A,TOKEN_PIPE:R,TOKEN_INT:d,TOKEN_FLOAT:f,TOKEN_BOOLEAN:w,TOKEN_NONE:F,TOKEN_SYMBOL:B,TOKEN_SPECIAL:U,TOKEN_REGEX:q}},function(G,j,N){function y(P,I){P.prototype=Object.create(I.prototype),P.prototype.constructor=P,x(P,I)}function x(P,I){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,T){return _.__proto__=T,_},x(P,I)}var m=N(6),E=N(19),g=E.PrecompiledLoader,O=function(P){y(I,P);function I(_,T){var e;return e=P.call(this)||this,e.baseURL=_||".",T=T||{},e.useCache=!!T.useCache,e.async=!!T.async,e}var C=I.prototype;return C.resolve=function(T,e){throw new Error("relative templates not support in the browser yet")},C.getSource=function(T,e){var n=this,i=this.useCache,p;return this.fetch(this.baseURL+"/"+T,function(l,h){if(l)if(e)e(l.content);else if(l.status===404)p=null;else throw l.content;else p={src:h,path:T,noCache:!i},n.emit("load",T,p),e&&e(null,p)}),p},C.fetch=function(T,e){if(typeof window>"u")throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,i=!0;n.onreadystatechange=function(){n.readyState===4&&i&&(i=!1,n.status===0||n.status===200?e(null,n.responseText):e({status:n.status,content:n.responseText}))},T+=(T.indexOf("?")===-1?"?":"&")+"s="+new Date().getTime(),n.open("GET",T,this.async),n.send()},I}(m);G.exports={WebLoader:O,PrecompiledLoader:g}},function(G,j,N){var y=N(0),x=N(7),m=x.Environment,E=x.Template,g=N(6),O=N(10),P=N(23),I=N(5),C=N(8),_=N(9),T=N(2),e=N(3),n=N(25),i;function p(l,h){h=h||{},y.isObject(l)&&(h=l,l=null);var t;return O.FileSystemLoader?t=new O.FileSystemLoader(l,{watch:h.watch,noCache:h.noCache}):O.WebLoader&&(t=new O.WebLoader(l,{useCache:h.web&&h.web.useCache,async:h.web&&h.web.async})),i=new m(t,h),h&&h.express&&i.express(h.express),i}G.exports={Environment:m,Template:E,Loader:g,FileSystemLoader:O.FileSystemLoader,NodeResolveLoader:O.NodeResolveLoader,PrecompiledLoader:O.PrecompiledLoader,WebLoader:O.WebLoader,compiler:I,parser:C,lexer:_,runtime:T,lib:y,nodes:e,installJinjaCompat:n,configure:p,reset:function(){i=void 0},compile:function(h,t,r,a){return i||p(),new E(h,t,r,a)},render:function(h,t,r){return i||p(),i.render(h,t,r)},renderString:function(h,t,r){return i||p(),i.renderString(h,t,r)},precompile:P?P.precompile:void 0,precompileString:P?P.precompileString:void 0}},function(G,j,N){var y=N(13),x=[],m=[],E=y.makeRequestCallFromTimer(g);function g(){if(m.length)throw m.shift()}G.exports=O;function O(I){var C;x.length?C=x.pop():C=new P,C.task=I,y(C)}function P(){this.task=null}P.prototype.call=function(){try{this.task.call()}catch(I){O.onerror?O.onerror(I):(m.push(I),E())}finally{this.task=null,x[x.length]=this}}},function(G,j,N){(function(y){G.exports=x;function x(e){m.length||E(),m[m.length]=e}var m=[],E,g=0,O=1024;function P(){for(;g<m.length;){var e=g;if(g=g+1,m[e].call(),g>O){for(var n=0,i=m.length-g;n<i;n++)m[n]=m[n+g];m.length-=g,g=0}}m.length=0,g=0}var I=typeof y<"u"?y:self,C=I.MutationObserver||I.WebKitMutationObserver;typeof C=="function"?E=_(P):E=T(P),x.requestFlush=E;function _(e){var n=1,i=new C(e),p=document.createTextNode("");return i.observe(p,{characterData:!0}),function(){n=-n,p.data=n}}function T(e){return function(){var i=setTimeout(l,0),p=setInterval(l,50);function l(){clearTimeout(i),clearInterval(p),e()}}}x.makeRequestCallFromTimer=T}).call(j,N(14))},function(G,j){var N;N=function(){return this}();try{N=N||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(N=window)}G.exports=N},function(G,j,N){var y,x;(function(m){var E=function(){var C=Array.prototype.slice.call(arguments);typeof C[0]=="function"&&C[0].apply(null,C.splice(1))},g=function(C){typeof setImmediate=="function"?setImmediate(C):typeof process<"u"&&process.nextTick?process.nextTick(C):setTimeout(C,0)},O=function(C){var _=function(T){var e=function(){return C.length&&C[T].apply(null,arguments),e.next()};return e.next=function(){return T<C.length-1?_(T+1):null},e};return _(0)},P=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},I=function(C,_,T){var e=T?g:E;if(_=_||function(){},!P(C)){var n=new Error("First argument to waterfall must be an array of functions");return _(n)}if(!C.length)return _();var i=function(p){return function(l){if(l)_.apply(null,arguments),_=function(){};else{var h=Array.prototype.slice.call(arguments,1),t=p.next();t?h.push(i(t)):h.push(_),e(function(){p.apply(null,h)})}}};i(O(C))()};y=[],x=(function(){return I}).apply(j,y),x!==void 0&&(G.exports=x)})()},function(G,j,N){var y=typeof Reflect=="object"?Reflect:null,x=y&&typeof y.apply=="function"?y.apply:function(s,u,c){return Function.prototype.apply.call(s,u,c)},m;y&&typeof y.ownKeys=="function"?m=y.ownKeys:Object.getOwnPropertySymbols?m=function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:m=function(s){return Object.getOwnPropertyNames(s)};function E(o){console&&console.warn&&console.warn(o)}var g=Number.isNaN||function(s){return s!==s};function O(){O.init.call(this)}G.exports=O,G.exports.once=t,O.EventEmitter=O,O.prototype._events=void 0,O.prototype._eventsCount=0,O.prototype._maxListeners=void 0;var P=10;function I(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(O,"defaultMaxListeners",{enumerable:!0,get:function(){return P},set:function(o){if(typeof o!="number"||o<0||g(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");P=o}}),O.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||g(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this};function C(o){return o._maxListeners===void 0?O.defaultMaxListeners:o._maxListeners}O.prototype.getMaxListeners=function(){return C(this)},O.prototype.emit=function(s){for(var u=[],c=1;c<arguments.length;c++)u.push(arguments[c]);var k=s==="error",L=this._events;if(L!==void 0)k=k&&L.error===void 0;else if(!k)return!1;if(k){var b;if(u.length>0&&(b=u[0]),b instanceof Error)throw b;var A=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw A.context=b,A}var R=L[s];if(R===void 0)return!1;if(typeof R=="function")x(R,this,u);else for(var d=R.length,f=p(R,d),c=0;c<d;++c)x(f[c],this,u);return!0};function _(o,s,u,c){var k,L,b;if(I(u),L=o._events,L===void 0?(L=o._events=Object.create(null),o._eventsCount=0):(L.newListener!==void 0&&(o.emit("newListener",s,u.listener?u.listener:u),L=o._events),b=L[s]),b===void 0)b=L[s]=u,++o._eventsCount;else if(typeof b=="function"?b=L[s]=c?[u,b]:[b,u]:c?b.unshift(u):b.push(u),k=C(o),k>0&&b.length>k&&!b.warned){b.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(s)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=o,A.type=s,A.count=b.length,E(A)}return o}O.prototype.addListener=function(s,u){return _(this,s,u,!1)},O.prototype.on=O.prototype.addListener,O.prototype.prependListener=function(s,u){return _(this,s,u,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e(o,s,u){var c={fired:!1,wrapFn:void 0,target:o,type:s,listener:u},k=T.bind(c);return k.listener=u,c.wrapFn=k,k}O.prototype.once=function(s,u){return I(u),this.on(s,e(this,s,u)),this},O.prototype.prependOnceListener=function(s,u){return I(u),this.prependListener(s,e(this,s,u)),this},O.prototype.removeListener=function(s,u){var c,k,L,b,A;if(I(u),k=this._events,k===void 0)return this;if(c=k[s],c===void 0)return this;if(c===u||c.listener===u)--this._eventsCount===0?this._events=Object.create(null):(delete k[s],k.removeListener&&this.emit("removeListener",s,c.listener||u));else if(typeof c!="function"){for(L=-1,b=c.length-1;b>=0;b--)if(c[b]===u||c[b].listener===u){A=c[b].listener,L=b;break}if(L<0)return this;L===0?c.shift():l(c,L),c.length===1&&(k[s]=c[0]),k.removeListener!==void 0&&this.emit("removeListener",s,A||u)}return this},O.prototype.off=O.prototype.removeListener,O.prototype.removeAllListeners=function(s){var u,c,k;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[s]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[s]),this;if(arguments.length===0){var L=Object.keys(c),b;for(k=0;k<L.length;++k)b=L[k],b!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(u=c[s],typeof u=="function")this.removeListener(s,u);else if(u!==void 0)for(k=u.length-1;k>=0;k--)this.removeListener(s,u[k]);return this};function n(o,s,u){var c=o._events;if(c===void 0)return[];var k=c[s];return k===void 0?[]:typeof k=="function"?u?[k.listener||k]:[k]:u?h(k):p(k,k.length)}O.prototype.listeners=function(s){return n(this,s,!0)},O.prototype.rawListeners=function(s){return n(this,s,!1)},O.listenerCount=function(o,s){return typeof o.listenerCount=="function"?o.listenerCount(s):i.call(o,s)},O.prototype.listenerCount=i;function i(o){var s=this._events;if(s!==void 0){var u=s[o];if(typeof u=="function")return 1;if(u!==void 0)return u.length}return 0}O.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]};function p(o,s){for(var u=new Array(s),c=0;c<s;++c)u[c]=o[c];return u}function l(o,s){for(;s+1<o.length;s++)o[s]=o[s+1];o.pop()}function h(o){for(var s=new Array(o.length),u=0;u<s.length;++u)s[u]=o[u].listener||o[u];return s}function t(o,s){return new Promise(function(u,c){function k(b){o.removeListener(s,L),c(b)}function L(){typeof o.removeListener=="function"&&o.removeListener("error",k),u([].slice.call(arguments))}a(o,s,L,{once:!0}),s!=="error"&&r(o,k,{once:!0})})}function r(o,s,u){typeof o.on=="function"&&a(o,"error",s,u)}function a(o,s,u,c){if(typeof o.on=="function")c.once?o.once(s,u):o.on(s,u);else if(typeof o.addEventListener=="function")o.addEventListener(s,function k(L){c.once&&o.removeEventListener(s,k),u(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},function(G,j,N){var y=N(3),x=N(0),m=0;function E(){return"hole_"+m++}function g(i,p){for(var l=null,h=0;h<i.length;h++){var t=p(i[h]);t!==i[h]&&(l||(l=i.slice()),l[h]=t)}return l||i}function O(i,p,l){if(!(i instanceof y.Node))return i;if(!l){var h=p(i);if(h&&h!==i)return h}if(i instanceof y.NodeList){var t=g(i.children,function(u){return O(u,p,l)});t!==i.children&&(i=new y[i.typename](i.lineno,i.colno,t))}else if(i instanceof y.CallExtension){var r=O(i.args,p,l),a=g(i.contentArgs,function(u){return O(u,p,l)});(r!==i.args||a!==i.contentArgs)&&(i=new y[i.typename](i.extName,i.prop,r,a))}else{var o=i.fields.map(function(u){return i[u]}),s=g(o,function(u){return O(u,p,l)});s!==o&&(i=new y[i.typename](i.lineno,i.colno),s.forEach(function(u,c){i[i.fields[c]]=u}))}return l&&p(i)||i}function P(i,p){return O(i,p,!0)}function I(i,p,l){var h=[],t=P(l?i[l]:i,function(r){var a;return r instanceof y.Block?r:((r instanceof y.Filter&&x.indexOf(p,r.name.value)!==-1||r instanceof y.CallExtensionAsync)&&(a=new y.Symbol(r.lineno,r.colno,E()),h.push(new y.FilterAsync(r.lineno,r.colno,r.name,r.args,a))),a)});return l?i[l]=t:i=t,h.length?(h.push(i),new y.NodeList(i.lineno,i.colno,h)):i}function C(i,p){return P(i,function(l){return l instanceof y.Output?I(l,p):l instanceof y.Set?I(l,p,"value"):l instanceof y.For?I(l,p,"arr"):l instanceof y.If?I(l,p,"cond"):l instanceof y.CallExtension?I(l,p,"args"):void 0})}function _(i){return O(i,function(p){if(p instanceof y.Block){var l=!1,h=E();p.body=O(p.body,function(t){if(t instanceof y.FunCall&&t.name.value==="super")return l=!0,new y.Symbol(t.lineno,t.colno,h)}),l&&p.body.children.unshift(new y.Super(0,0,p.name,new y.Symbol(0,0,h)))}})}function T(i){return P(i,function(p){if(!(!(p instanceof y.If)&&!(p instanceof y.For))){var l=!1;if(O(p,function(h){if(h instanceof y.FilterAsync||h instanceof y.IfAsync||h instanceof y.AsyncEach||h instanceof y.AsyncAll||h instanceof y.CallExtensionAsync)return l=!0,h}),l){if(p instanceof y.If)return new y.IfAsync(p.lineno,p.colno,p.cond,p.body,p.else_);if(p instanceof y.For&&!(p instanceof y.AsyncAll))return new y.AsyncEach(p.lineno,p.colno,p.arr,p.name,p.body,p.else_)}}})}function e(i,p){return T(_(C(i,p)))}function n(i,p){return e(i,p||[])}G.exports={transform:n}},function(G,m,N){var y=N(0),x=N(2),m=G.exports={};function E(v,S){return v==null||v===!1?S:v}m.abs=Math.abs;function g(v){return v!==v}function O(v,S,M){var K,$=[],J=[];for(K=0;K<v.length;K++)K%S===0&&J.length&&($.push(J),J=[]),J.push(v[K]);if(J.length){if(M)for(K=J.length;K<S;K++)J.push(M);$.push(J)}return $}m.batch=O;function P(v){v=E(v,"");var S=v.toLowerCase();return x.copySafeness(v,S.charAt(0).toUpperCase()+S.slice(1))}m.capitalize=P;function I(v,S){if(v=E(v,""),S=S||80,v.length>=S)return v;var M=S-v.length,K=y.repeat(" ",M/2-M%2),$=y.repeat(" ",M/2);return x.copySafeness(v,K+v+$)}m.center=I;function C(v,S,M){return M?v||S:v!==void 0?v:S}m.default=C;function _(v,S,M){if(!y.isObject(v))throw new y.TemplateError("dictsort filter: val must be an object");var K=[];for(var $ in v)K.push([$,v[$]]);var J;if(M===void 0||M==="key")J=0;else if(M==="value")J=1;else throw new y.TemplateError("dictsort filter: You can only sort by either key or value");return K.sort(function(re,Z){var oe=re[J],he=Z[J];return S||(y.isString(oe)&&(oe=oe.toUpperCase()),y.isString(he)&&(he=he.toUpperCase())),oe>he?1:oe===he?0:-1}),K}m.dictsort=_;function T(v,S){return JSON.stringify(v,null,S)}m.dump=T;function e(v){return v instanceof x.SafeString?v:(v=v??"",x.markSafe(y.escape(v.toString())))}m.escape=e;function n(v){return v instanceof x.SafeString?v:(v=v??"",x.markSafe(v.toString()))}m.safe=n;function i(v){return v[0]}m.first=i;function p(v){return v=v??"",x.markSafe(y.escape(v.toString()))}m.forceescape=p;function l(v,S){return y.groupBy(v,S,this.env.opts.throwOnUndefined)}m.groupby=l;function h(v,S,M){if(v=E(v,""),v==="")return"";S=S||4;var K=v.split(`
`),$=y.repeat(" ",S),J=K.map(function(re,Z){return Z===0&&!M?re:""+$+re}).join(`
`);return x.copySafeness(v,J)}m.indent=h;function t(v,S,M){return S=S||"",M&&(v=y.map(v,function(K){return K[M]})),v.join(S)}m.join=t;function r(v){return v[v.length-1]}m.last=r;function a(v){var S=E(v,"");return S!==void 0?typeof Map=="function"&&S instanceof Map||typeof Set=="function"&&S instanceof Set?S.size:y.isObject(S)&&!(S instanceof x.SafeString)?y.keys(S).length:S.length:0}m.length=a;function o(v){if(y.isString(v))return v.split("");if(y.isObject(v))return y._entries(v||{}).map(function(S){var M=S[0],K=S[1];return{key:M,value:K}});if(y.isArray(v))return v;throw new y.TemplateError("list filter: type not iterable")}m.list=o;function s(v){return v=E(v,""),v.toLowerCase()}m.lower=s;function u(v){return v==null?"":x.copySafeness(v,v.replace(/\r\n|\n/g,`<br />
`))}m.nl2br=u;function c(v){return v[Math.floor(Math.random()*v.length)]}m.random=c;function k(v){function S(M,K,$){K===void 0&&(K="truthy");var J=this,re=J.env.getTest(K);return y.toArray(M).filter(function(oe){return re.call(J,oe,$)===v})}return S}m.reject=k(!1);function L(v,S){return v.filter(function(M){return!M[S]})}m.rejectattr=L,m.select=k(!0);function b(v,S){return v.filter(function(M){return!!M[S]})}m.selectattr=b;function A(v,S,M,K){var $=v;if(S instanceof RegExp)return v.replace(S,M);typeof K>"u"&&(K=-1);var J="";if(typeof S=="number")S=""+S;else if(typeof S!="string")return v;if(typeof v=="number"&&(v=""+v),typeof v!="string"&&!(v instanceof x.SafeString))return v;if(S==="")return J=M+v.split("").join(M)+M,x.copySafeness(v,J);var re=v.indexOf(S);if(K===0||re===-1)return v;for(var Z=0,oe=0;re>-1&&(K===-1||oe<K);)J+=v.substring(Z,re)+M,Z=re+S.length,oe++,re=v.indexOf(S,Z);return Z<v.length&&(J+=v.substring(Z)),x.copySafeness($,J)}m.replace=A;function R(v){var S;return y.isString(v)?S=o(v):S=y.map(v,function(M){return M}),S.reverse(),y.isString(v)?x.copySafeness(v,S.join("")):S}m.reverse=R;function d(v,S,M){S=S||0;var K=Math.pow(10,S),$;return M==="ceil"?$=Math.ceil:M==="floor"?$=Math.floor:$=Math.round,$(v*K)/K}m.round=d;function f(v,S,M){for(var K=Math.floor(v.length/S),$=v.length%S,J=[],re=0,Z=0;Z<S;Z++){var oe=re+Z*K;Z<$&&re++;var he=re+(Z+1)*K,pe=v.slice(oe,he);M&&Z>=$&&pe.push(M),J.push(pe)}return J}m.slice=f;function w(v,S,M){return M===void 0&&(M=0),S&&(v=y.map(v,function(K){return K[S]})),M+v.reduce(function(K,$){return K+$},0)}m.sum=w,m.sort=x.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(S,M,K,$){var J=this,re=y.map(S,function(oe){return oe}),Z=y.getAttrGetter($);return re.sort(function(oe,he){var pe=$?Z(oe):oe,ve=$?Z(he):he;if(J.env.opts.throwOnUndefined&&$&&(pe===void 0||ve===void 0))throw new TypeError('sort: attribute "'+$+'" resolved to undefined');return!K&&y.isString(pe)&&y.isString(ve)&&(pe=pe.toLowerCase(),ve=ve.toLowerCase()),pe<ve?M?1:-1:pe>ve?M?-1:1:0}),re});function F(v){return x.copySafeness(v,v)}m.string=F;function B(v,S){v=E(v,"");var M=/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,K=q(v.replace(M,"")),$="";return S?$=K.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,`
`).replace(/\n\n\n+/g,`

`):$=K.replace(/\s+/gi," "),x.copySafeness(v,$)}m.striptags=B;function U(v){v=E(v,"");var S=v.split(" ").map(function(M){return P(M)});return x.copySafeness(v,S.join(" "))}m.title=U;function q(v){return x.copySafeness(v,v.replace(/^\s*|\s*$/g,""))}m.trim=q;function z(v,S,M,K){var $=v;if(v=E(v,""),S=S||255,v.length<=S)return v;if(M)v=v.substring(0,S);else{var J=v.lastIndexOf(" ",S);J===-1&&(J=S),v=v.substring(0,J)}return v+=K??"...",x.copySafeness($,v)}m.truncate=z;function se(v){return v=E(v,""),v.toUpperCase()}m.upper=se;function ce(v){var S=encodeURIComponent;if(y.isString(v))return S(v);var M=y.isArray(v)?v:y._entries(v);return M.map(function(K){var $=K[0],J=K[1];return S($)+"="+S(J)}).join("&")}m.urlencode=ce;var X=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,Q=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,D=/^https?:\/\/.*$/,W=/^www\./,V=/\.(?:org|net|com)(?:\:|\/|$)/;function te(v,S,M){g(S)&&(S=1/0);var K=M===!0?' rel="nofollow"':"",$=v.split(/(\s+)/).filter(function(J){return J&&J.length}).map(function(J){var re=J.match(X),Z=re?re[1]:J,oe=Z.substr(0,S);return D.test(Z)?'<a href="'+Z+'"'+K+">"+oe+"</a>":W.test(Z)?'<a href="http://'+Z+'"'+K+">"+oe+"</a>":Q.test(Z)?'<a href="mailto:'+Z+'">'+Z+"</a>":V.test(Z)?'<a href="http://'+Z+'"'+K+">"+oe+"</a>":J});return $.join("")}m.urlize=te;function ue(v){v=E(v,"");var S=v?v.match(/\w+/g):null;return S?S.length:null}m.wordcount=ue;function le(v,S){var M=parseFloat(v);return g(M)?S:M}m.float=le;var me=x.makeMacro(["value","default","base"],[],function(S,M,K){K===void 0&&(K=10);var $=parseInt(S,K);return g($)?M:$});m.int=me,m.d=m.default,m.e=m.escape},function(G,j,N){function y(g,O){g.prototype=Object.create(O.prototype),g.prototype.constructor=g,x(g,O)}function x(g,O){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,C){return I.__proto__=C,I},x(g,O)}var m=N(6),E=function(g){y(O,g);function O(I){var C;return C=g.call(this)||this,C.precompiled=I||{},C}var P=O.prototype;return P.getSource=function(C){return this.precompiled[C]?{src:{type:"code",obj:this.precompiled[C]},path:C}:null},O}(m);G.exports={PrecompiledLoader:E}},function(G,j,N){var y=N(2).SafeString;function x(c){return typeof c=="function"}j.callable=x;function m(c){return c!==void 0}j.defined=m;function E(c,k){return c%k===0}j.divisibleby=E;function g(c){return c instanceof y}j.escaped=g;function O(c,k){return c===k}j.equalto=O,j.eq=j.equalto,j.sameas=j.equalto;function P(c){return c%2===0}j.even=P;function I(c){return!c}j.falsy=I;function C(c,k){return c>=k}j.ge=C;function _(c,k){return c>k}j.greaterthan=_,j.gt=j.greaterthan;function T(c,k){return c<=k}j.le=T;function e(c,k){return c<k}j.lessthan=e,j.lt=j.lessthan;function n(c){return c.toLowerCase()===c}j.lower=n;function i(c,k){return c!==k}j.ne=i;function p(c){return c===null}j.null=p;function l(c){return typeof c=="number"}j.number=l;function h(c){return c%2===1}j.odd=h;function t(c){return typeof c=="string"}j.string=t;function r(c){return!!c}j.truthy=r;function a(c){return c===void 0}j.undefined=a;function o(c){return c.toUpperCase()===c}j.upper=o;function s(c){return typeof Symbol<"u"?!!c[Symbol.iterator]:Array.isArray(c)||typeof c=="string"}j.iterable=s;function u(c){var k=c!=null&&typeof c=="object"&&!Array.isArray(c);return Set?k&&!(c instanceof Set):k}j.mapping=u},function(G,j,N){function y(E){var g=-1;return{current:null,reset:function(){g=-1,this.current=null},next:function(){return g++,g>=E.length&&(g=0),this.current=E[g],this.current}}}function x(E){E=E||",";var g=!0;return function(){var O=g?"":E;return g=!1,O}}function m(){return{range:function(g,O,P){typeof O>"u"?(O=g,g=0,P=1):P||(P=1);var I=[];if(P>0)for(var C=g;C<O;C+=P)I.push(C);else for(var _=g;_>O;_+=P)I.push(_);return I},cycler:function(){return y(Array.prototype.slice.call(arguments))},joiner:function(g){return x(g)}}}G.exports=m},function(G,j,N){var y=N(4);G.exports=function(m,E){function g(O,P){if(this.name=O,this.path=O,this.defaultEngine=P.defaultEngine,this.ext=y.extname(O),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=(this.defaultEngine[0]!=="."?".":"")+this.defaultEngine)}return g.prototype.render=function(P,I){m.render(this.name,P,I)},E.set("view",g),E.set("nunjucksEnv",m),m}},function(G,j,N){var y=N(4),x=N(4),m=N(0),E=m._prettifyError,g=N(5),O=N(7),P=O.Environment,I=N(24);function C(n,i){return Array.isArray(i)?i.some(function(p){return n.match(p)}):!1}function _(n,i){i=i||{},i.isString=!0;var p=i.env||new P([]),l=i.wrapper||I;if(!i.name)throw new Error('the "name" option is required when compiling a string');return l([e(n,i.name,p)],i)}function T(n,i){i=i||{};var p=i.env||new P([]),l=i.wrapper||I;if(i.isString)return _(n,i);var h=y.existsSync(n)&&y.statSync(n),t=[],r=[];function a(u){y.readdirSync(u).forEach(function(c){var k=x.join(u,c),L=k.substr(x.join(n,"/").length),b=y.statSync(k);b&&b.isDirectory()?(L+="/",C(L,i.exclude)||a(k)):C(L,i.include)&&r.push(k)})}if(h.isFile())t.push(e(y.readFileSync(n,"utf-8"),i.name||n,p));else if(h.isDirectory()){a(n);for(var o=0;o<r.length;o++){var s=r[o].replace(x.join(n,"/"),"");try{t.push(e(y.readFileSync(r[o],"utf-8"),s,p))}catch(u){if(i.force)console.error(u);else throw u}}}return l(t,i)}function e(n,i,p){p=p||new P([]);var l=p.asyncFilters,h=p.extensionsList,t;i=i.replace(/\\/g,"/");try{t=g.compile(n,l,h,i,p.opts)}catch(r){throw E(i,!1,r)}return{name:i,template:t}}G.exports={precompile:T,precompileString:_}},function(G,j,N){function y(x,m){var E="";m=m||{};for(var g=0;g<x.length;g++){var O=JSON.stringify(x[g].name),P=x[g].template;E+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+O+`] = (function() {
`+P+`
})();
`,m.asFunction&&(E+="return function(ctx, cb) { return nunjucks.render("+O+`, ctx, cb); }
`),E+=`})();
`}return E}G.exports=y},function(G,j,N){function y(){var x=this.runtime,m=this.lib,E=this.compiler.Compiler,g=this.parser.Parser,O=this.nodes,P=this.lexer,I=x.contextOrFrameLookup,C=x.memberLookup,_,T;E&&(_=E.prototype.assertType),g&&(T=g.prototype.parseAggregate);function e(){x.contextOrFrameLookup=I,x.memberLookup=C,E&&(E.prototype.assertType=_),g&&(g.prototype.parseAggregate=T)}x.contextOrFrameLookup=function(a,o,s){var u=I.apply(this,arguments);if(u!==void 0)return u;switch(s){case"True":return!0;case"False":return!1;case"None":return null;default:return}};function n(r){return{index:r.index,lineno:r.lineno,colno:r.colno}}if(O&&E&&g){var i=O.Node.extend("Slice",{fields:["start","stop","step"],init:function(a,o,s,u,c){s=s||new O.Literal(a,o,null),u=u||new O.Literal(a,o,null),c=c||new O.Literal(a,o,1),this.parent(a,o,s,u,c)}});E.prototype.assertType=function(a){a instanceof i||_.apply(this,arguments)},E.prototype.compileSlice=function(a,o){this._emit("("),this._compileExpression(a.start,o),this._emit("),("),this._compileExpression(a.stop,o),this._emit("),("),this._compileExpression(a.step,o),this._emit(")")},g.prototype.parseAggregate=function(){var a=this,o=n(this.tokens);o.colno--,o.index--;try{return T.apply(this)}catch(R){var s=n(this.tokens),u=function(){return m._assign(a.tokens,s),R};m._assign(this.tokens,o),this.peeked=!1;var c=this.peekToken();if(c.type!==P.TOKEN_LEFT_BRACKET)throw u();this.nextToken();for(var k=new i(c.lineno,c.colno),L=!1,b=0;b<=k.fields.length&&!this.skip(P.TOKEN_RIGHT_BRACKET);b++){if(b===k.fields.length)if(L)this.fail("parseSlice: too many slice components",c.lineno,c.colno);else break;if(this.skip(P.TOKEN_COLON))L=!0;else{var A=k.fields[b];k[A]=this.parseExpression(),L=this.skip(P.TOKEN_COLON)||L}}if(!L)throw u();return new O.Array(c.lineno,c.colno,[k])}}}function p(r,a,o,s){r=r||[],a===null&&(a=s<0?r.length-1:0),o===null?o=s<0?-1:r.length:o<0&&(o+=r.length),a<0&&(a+=r.length);for(var u=[],c=a;!(c<0||c>r.length||s>0&&c>=o||s<0&&c<=o);c+=s)u.push(x.memberLookup(r,c));return u}function l(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var h={pop:function(a){if(a===void 0)return this.pop();if(a>=this.length||a<0)throw new Error("KeyError");return this.splice(a,1)},append:function(a){return this.push(a)},remove:function(a){for(var o=0;o<this.length;o++)if(this[o]===a)return this.splice(o,1);throw new Error("ValueError")},count:function(a){for(var o=0,s=0;s<this.length;s++)this[s]===a&&o++;return o},index:function(a){var o;if((o=this.indexOf(a))===-1)throw new Error("ValueError");return o},find:function(a){return this.indexOf(a)},insert:function(a,o){return this.splice(a,0,o)}},t={items:function(){return m._entries(this)},values:function(){return m._values(this)},keys:function(){return m.keys(this)},get:function(a,o){var s=this[a];return s===void 0&&(s=o),s},has_key:function(a){return l(this,a)},pop:function(a,o){var s=this[a];if(s===void 0&&o!==void 0)s=o;else{if(s===void 0)throw new Error("KeyError");delete this[a]}return s},popitem:function(){var a=m.keys(this);if(!a.length)throw new Error("KeyError");var o=a[0],s=this[o];return delete this[o],[o,s]},setdefault:function(a,o){return o===void 0&&(o=null),a in this||(this[a]=o),this[a]},update:function(a){return m._assign(this,a),null}};return t.iteritems=t.items,t.itervalues=t.values,t.iterkeys=t.keys,x.memberLookup=function(a,o,s){return arguments.length===4?p.apply(this,arguments):(a=a||{},m.isArray(a)&&l(h,o)?h[o].bind(a):m.isObject(a)&&l(t,o)?t[o].bind(a):C.apply(this,arguments))},e}G.exports=y}])})})(Fe);var He=Fe.exports;const Ye=We(He),$e=`{% macro govieHeader(props) %}
<header data-module="gieds-header" class="bg-green-700 p-3 text-white rounded">
  {{ props.title }}
</header>
{% endmacro %}
`,ze=Ye.configure({autoescape:!0,noCache:!0,trimBlocks:!0,lstripBlocks:!0});function Je({macro:Oe,name:Te}){return function(G){const j=JSON.stringify(G),N=`
    ${Oe}
    {{ ${Te}(${j}) }}
  `;return ze.renderString(N).trim()}}const Qe={title:"Header"},Be=Je({macro:$e,name:"govieHeader"}),Ee=Be.bind({});Ee.args={title:"Service Name"};const ke=Be.bind({});ke.args={title:"Title"};var Le,Ae,Se;Ee.parameters={...Ee.parameters,docs:{...(Le=Ee.parameters)==null?void 0:Le.docs,source:{originalSource:`renderMacro({
  macro,
  name: 'govieHeader'
})`,...(Se=(Ae=Ee.parameters)==null?void 0:Ae.docs)==null?void 0:Se.source}}};var Ne,Ce,Re;ke.parameters={...ke.parameters,docs:{...(Ne=ke.parameters)==null?void 0:Ne.docs,source:{originalSource:`renderMacro({
  macro,
  name: 'govieHeader'
})`,...(Re=(Ce=ke.parameters)==null?void 0:Ce.docs)==null?void 0:Re.source}}};const Ze=["Default","Title"];export{Ee as Default,ke as Title,Ze as __namedExportsOrder,Qe as default};
