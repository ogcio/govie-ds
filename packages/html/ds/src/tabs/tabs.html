{% macro govieTabs(props) %}

    {%- macro _tabListItem(props, item, index) %}
    {% set tabId = "tab-" + index -%}
    {% set tabLabelId = "tab-label-" + index -%}
    <input
        name="tabs"
        type="radio"
        id="{{ tabId }}"
        aria-labelledby="{{ tabLabelId }}"
        aria-roledescription="tab"
        {%- if item.checked %} checked {% endif %}
        class="gi-absolute gi-opacity-0"
      />
    <label
    role="tab"
    for="{{ tabId }}"
    id="{{ tabLabelId }}"
    aria-hidden="true"
    class="
        gi-inline-block 
        gi-cursor-pointer
        gi-px-5
        gi-py-2
        gi-border-solid 
        gi-border-border-gray-200
        gi-border-b-xs 
        gi-relative
        gi--mb-[1px]
        gi-mr-1
        gi-bg-gray-50
        gi-text-center 
        gi-text-md
        gi-underline
        gi-text-slate-300"
    >
    <a
        {%- if item.href %} href="{{ item.href }}" {% endif %}
        class="
        gi-decoration-xs
        hover:gi-decoration-lg
        focus:gi-outline
        focus:gi-outline-transparent
        focus:gi-bg-yellow-400
        focus:gi-outline-2
        focus:gi-shadow-sm
        focus:gi-shadow-yellow-400"
    >
        {{ item.label }}
    </a>
    </label>
    {% endmacro -%}

    {%- macro _tabPanel(props, item, index) %}
    {% set tabPanelId = "tab-" + index -%}
    <div
      role="tabpanel"
      aria-labelledby="{{ tabPanelId }}"
      class="
        gi-hidden 
        gi-basis-full 
        gi-border-xs
        gi-border-solid 
        gi-border-slate-200 
        gi-bg-white 
        gi-p-4"
    >
    {% if item.panel.html %}
        {{ item.panel.html | safe | trim | indent(2) }}
    {% elif item.panel.text %}
        <p class="govuk-body">{{ item.panel.text }}</p>
    {% endif %}
    </div>
    {% endmacro -%}

    <div role="tablist" aria-label="{{ props.ariaLabel }}" aria-labelledby="{{ props.ariaLabelledby }}" class="gi-flex gi-flex-wrap">
    {% if props.items | length %}
    
    {% for item in props.items %}
    {% if item %}
        {{- _tabListItem(props, item, loop.index) | trim | indent(2, true) }}
    {% endif %}
    {% endfor %}

    {% for item in props.items %}
        {% if item %}
        {{- _tabPanel(props, item, loop.index) | trim | indent(2, true) }}
        {% endif %}
    {% endfor %}
    {% endif %}
    </div>
{% endmacro %}