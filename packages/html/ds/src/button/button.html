{% from 'button/helpers.html' import getVariantAppearanceClass, getSizeClass, getIconPosition, isButtonDisabled %}
{% from 'icon/icon.html' import govieIcon %}

{% macro govieButton(props) %}

{% set appearance = props.appearance or 'default' %}
{% set variant = props.variant or 'primary' %}
{% set size = props.size or 'medium' %}
{% set isDisabled = 'disabled' if props.disabled else 'notDisabled' %}

<button data-element="button-container" data-module="gieds-button" data-testid="govieButton-{{ appearance }}-{{ variant }}-{{ size }}-{{ isDisabled }}" class="gi-btn {{ getVariantAppearanceClass(props.disabled, props.variant, props.appearance) | trim }} {{getSizeClass(props.size) | trim }} {{getIconPosition(props.icon.position) | trim }} {{isButtonDisabled(props.disabled, props.variant, props.appearance) | trim }}">
  {% if props.icon %}
    {{ govieIcon(props.icon.props)}}
  {% endif %}
  {{ props.label }}
</button>

{% endmacro %}