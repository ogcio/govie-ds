{% from 'header/assets/logo.html' import govieLogo %} 
{% from 'header/assets/logoSmall.html' import govieLogoSmall %} 
{% from 'header/components/headerSearchContainer.html' import HeaderSearchContainer %}
{% from 'header/components/headerMenu.html' import headerMenu %} 
{% from 'icon/icon.html' import govieIcon %}

{% macro govieHeaderSmall(props) %}

<div
  data-testid="header-mobile-view"
  class="gi-w-full gi-relative gi-flex-col gi-overflow-x-clip gi-flex sm:gi-hidden"
>
  <div
    class="gi-h-20 gi-bg-emerald-800 gi-w-full gi-py-3 gi-px-4 sm:gi-px-8 sm:gi-py-4"
  >
    <div class="gi-h-full gi-items-center gi-flex gi-justify-between">
      <div class="gi-flex gi-items-center gi-gap-4 md:gi-gap-6">
        <a aria-label="Go to the home page" href="{{ props.logoLink }}" class="xs:gi-block gi-hidden">{{ govieLogo() }}</a>
        <a aria-label="Go to the home page" href="{{ props.logoLink }}" class="xs:gi-hidden gi-block">{{ govieLogoSmall() }}</a>
        {% if props.title %}
          <div class="gi-heading-sm gi-tracking-wider gi-text-white !gi-m-0">
            {{props.title}}
          </div>
        {% endif %}
      </div>
      <div class="gi-flex gi-gap-2">
        <noscript class="gi-flex gi-gap-2">
          <a
            href="{{ props.noJsSearchLink }}"
            class="gi-border gi-border-solid gi-border-transparent gi-rounded-sm gi-p-2 hover:gi-bg-black hover:gi-bg-opacity-20 focus-visible:gi-outline-offset-0 focus-visible:gi-outline-none focus-visible:gi-border focus-visible:gi-border-solid focus-visible:gi-border-yellow-400 focus:gi-border focus:gi-border-solid focus:gi-border-yellow-400 gi-text-md gi-flex gi-items-center gi-gap-2 gi-cursor-pointer"
          >
            <span class="gi-text-white gi-text-2md gi-font-bold">Search</span>
            <div>
              <div
                class="gi-text-white"
                data-element="search-mobile-search-icon"
              >
                {{ govieIcon({"icon": "search"}) }}
              </div>
            </div>
          </a>
          <a
            href="{{ props.noJsMenuLink }}"
            data-element="menu-icon"
            class="gi-border gi-border-solid gi-border-transparent gi-rounded-sm gi-p-2 hover:gi-bg-black hover:gi-bg-opacity-20 focus-visible:gi-outline-offset-0 focus-visible:gi-outline-none focus-visible:gi-border focus-visible:gi-border-solid focus-visible:gi-border-yellow-400 focus:gi-border focus:gi-border-solid focus:gi-border-yellow-400 gi-text-md gi-flex gi-items-center gi-gap-2 gi-cursor-pointer"
          >
            <span class="gi-text-white gi-text-2md gi-font-bold">Menu</span>
            <div class="gi-text-white">{{ govieIcon({"icon": "menu"}) }}</div>
          </a>
        </noscript>
        {% if props.searchUrl %}
          <button
            data-element="search-mobile"
            class="gi-border gi-border-solid gi-border-transparent nojs:gi-hidden gi-rounded-sm gi-p-2 hover:gi-bg-black hover:gi-bg-opacity-20 focus-visible:gi-outline-offset-0 focus-visible:gi-outline-none focus-visible:gi-border focus-visible:gi-border-solid focus-visible:gi-border-yellow-400 focus:gi-border focus:gi-border-solid focus:gi-border-yellow-400 gi-hidden gi-text-md xs:gi-flex gi-items-center gi-gap-2 gi-cursor-pointer"
          >
            <span class="gi-text-white gi-text-2md gi-font-bold">Search</span>
            <div>
              <div class="gi-text-white" data-element="search-mobile-search-icon">
                {{ govieIcon({"icon": "search"}) }}
              </div>
              <div
                class="gi-text-white gi-hidden"
                data-element="search-mobile-close-icon"
              >
                {{ govieIcon({"icon": "close"}) }}
              </div>
            </div>
          </button>
        {% endif %}
        <button
          data-element="menu-icon"
          class="gi-border gi-border-solid gi-border-transparent nojs:gi-hidden gi-rounded-sm gi-p-2 hover:gi-bg-black hover:gi-bg-opacity-20 focus-visible:gi-outline-offset-0 focus-visible:gi-outline-none focus-visible:gi-border focus-visible:gi-border-solid focus-visible:gi-border-yellow-400 focus:gi-border focus:gi-border-solid focus:gi-border-yellow-400 gi-text-md gi-flex gi-items-center gi-gap-2 gi-cursor-pointer"
        >
          <span class="gi-text-white gi-text-2md gi-font-bold">Menu</span>
          <div class="gi-text-white">{{ govieIcon({"icon": "menu"}) }}</div>
        </button>
      </div>
    </div>
  </div>
  <div class="gi-hidden xs:gi-block">
    {{ HeaderSearchContainer({"searchUrl": props.searchUrl, "dataElement": "search-container-small","dataTestId": "search-container-tablet"}) }}
  </div>
  {{ headerMenu(props) }}
  <div
    class="gi-z-900 gi-hidden gi-w-full gi-h-full gi-bg-black gi-opacity-20"
    data-element="overlay-disabled"
  ></div>
</div>

{% endmacro %}
