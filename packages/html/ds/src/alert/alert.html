{% from 'helpers/helpers.html' import addClasses %}
{% from 'alert/helpers.html' import getIcon, getVariant %}
{% from 'icon/icon.html' import govieIcon %}
{% from 'icon-button/icon-button.html' import govieIconButton %}

{% macro govieAlert(props) %}
  {% set icon = getIcon(props.variant) %}
  <div
    data-module="gieds-alert"
    class="gi-alert-base {{ getVariant(props.variant) | trim }} {{ addClasses(props.className) | trim }}"
    role="alert"
  >
    {{
      govieIcon({
      "size": "lg",
      "icon": icon
      })
    }}
    <div class="gi-alert-container">
      <p class="gi-alert-title">{{ props.title }}</p>
      <div class="gi-alert-content">{{ props.children | safe | trim }}</div>
    </div>
    {% if props.dismissible %}
      {{
        govieIconButton({
          "className": "gi-alert-dismiss",
          "appearance": "dark",
          "variant": "flat",
          "icon": {
            "icon": "close"
          }
        })
      }}
    {% endif %}
  </div>
{% endmacro %}
