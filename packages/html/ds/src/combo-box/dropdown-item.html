{% from 'paragraph/paragraph.html' import govieParagraph %}
{% from 'tag/tag.html' import govieTag %}
{% from 'icon/icon.html' import govieIcon %}
{% from 'text-input/text-input.html' import govieTextInput %}
{% from 'icon-button/icon-button.html' import govieIconButton %}
{% from 'checkbox/checkbox.html' import govieCheckbox %}

{% macro govieDropdownItem(props) %}
  
  
  

  <div
    
    data-module="gieds-dropdown-item"
    
  >
    <div class="gi-combobox-toggle">
      <div class="gi-combobox-toggle-content">
        {{ govieParagraph({"content": props.label}) }}
          {{
            govieTag({
                "text": "0",
                "type": "counter",
                "className": "!gi-hidden"
            })
          }}
      </div>

      {{ govieIcon({"icon": "keyboard_arrow_down"}) }}
    </div>

    <div
      data-element="combobox-dropdown-container",
      class="gi-hidden"
    >
      {% if not props.noSearch %}
        <div class="gi-combobox-search">
          {{
            govieTextInput({
            "placeholder": "Search",
            "className": "gi-combobox-search-input",
            "fullFluid": true
            })
          }}
          
            {{
              govieIconButton({
                "variant": "flat",
                "appearance": "dark",
                "size": "small",
                "className": "gi-combobox-search-icon !gi-hidden",
                "icon": {
                    "icon": "close"
                }
              })
            }}
          
        </div>
      {% endif %}

      <div class="gi-combobox-checkbox-container">
        
          {{
            govieParagraph({
                "className": "gi-combobox-checkbox-paragraph !gi-hidden",
                "content": "No results found."
            })
          }}
       
        {% for option in props['options'] %}
          {{
            govieCheckbox({
                "dataElement": option.label,
                "checkboxId": option.label,
                "size": "sm",
                "label": option.label,
                "value": option.value,
                "className": "gi-combobox-checkbox"
            })
          }}
        {% endfor %}
      </div>
    </div>
  </div>
{% endmacro %}
