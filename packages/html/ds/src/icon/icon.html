{% from 'helpers/helpers.html' import addClasses %}

{% macro govieIcon(props) %}
  {% macro getIconStyle(props) %}
    {% if props.outlined %}
      material-icons-outlined
    {% else %}
      material-icons
    {% endif %}
  {% endmacro %}

  {% macro getDisabled(props) %}
    {% if props.disabled %}
      gi-text-gray-300
    {% endif %}
  {% endmacro %}

  {% macro getAriaRole(props) %}
    {% if props.ariaLabel %}
      role="img"
    {% else %}
      role="presentation"
    {% endif %}
  {% endmacro %}

  {% macro getAriaLabel(props) %}
    {% if props.ariaLabel %}
      aria-label={{ props.ariaLabel }}
    {% endif %}
  {% endmacro %}

  {% macro getAriaHidden(props) %}
    {% if props.ariaHidden %}
      aria-hidden
    {% endif %}
  {% endmacro %}

  {% macro getInline(props) %}
    {% if not props.inline %}
      gi-block
    {% endif %}
  {% endmacro %}

  {% macro getFontSize(props) %}
    {% if props.size == 'sm' %}
      gi-text-[16px]
    {% elif props.size == 'lg' %}
      gi-text-[32px]
    {% elif props.size == 'xl' %}
      gi-text-[49px]
    {% else %}
      gi-text-[24px]
    {% endif %}
  {% endmacro %}

  <span
    data-testid="govie-icon"
    {{ getAriaHidden(props) | trim }}
    {{ getAriaLabel(props) | trim }}
    {{ getAriaRole(props) | trim }}
    class="
      {{ getIconStyle(props) | trim }}
      {{ getDisabled(props) | trim }}
      {{ getInline(props) | trim }}
      {{ getFontSize(props) | trim }}
      {{ addClasses(props.classes) | trim }} 
      "
  >
    {{ props.icon }}
  </span>
{% endmacro %}
