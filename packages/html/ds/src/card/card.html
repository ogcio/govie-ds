{% from 'icon/icon.html' import govieIcon %}
{% from 'heading/heading.html' import govieHeading %}
{% from 'link/link.html' import govieLink %}

{% macro govieCard(props) %}

  {% macro getLayoutClass(type) %}
    {% if type == 'horizontal' %}
      gi-card gi-card-horizontal
    {% else %}
      gi-card gi-card-vertical
    {% endif %}
  {% endmacro %}

  <div class="{{ getLayoutClass(props.type) | trim }}">

    {% if props.img and not props.icon %}
      <div class="gi-card-image">
        <a href="{{ props.href }}">
          <img src="{{ props.img }}" alt="{{ props.title | default('Card image') }}" />
        </a>
      </div>
    {% endif %}

    {% if props.icon %}
      <div class="gi-card-icon">
        <a href="{{ props.href }}">
          {{ govieIcon({"icon": props.icon.icon, "size": props.icon.size, "className": props.icon.className  }) }} 
        </a>
      </div>
    {% endif %}

    <div class="gi-card-content">
      <div class="gi-card-heading">
        {% if props.href %}
          {{
            govieHeading({
              "tag": 'h5',
              "text": govieLink({
                "href": props.href,
                "label": props.title
              }),
              "customClasses": '!gi-my-0'
            })
          }}
        {% else %}
          {{
            govieHeading({
              "tag": 'h5',
              "text": props.title,
              "customClasses": '!gi-my-0'
            })
          }}
        {% endif %}
      </div>

      <div class="gi-card-paragraph">
        <p class="gi-text-sm">{{ props.content | default('Card content') }}</p>
      </div>

      {% if props.actions %}
        <div class="gi-card-actions">
          {% for action in props.actions %}
            <a href="{{ action.href }}" class="gi-link gi-text-md">{{ action.text }}</a>
          {% endfor %}
        </div>
      {% endif %}
    </div>

  </div>
{% endmacro %}
