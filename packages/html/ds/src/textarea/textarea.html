{% macro govieTextarea(props) %}

  {% from 'label/label.html' import govieLabel %}
  {% from 'hint-text/hint-text.html' import govieHintText %}
  {% from 'error-text/error-text.html' import govieErrorText %}

  {% set widthClass = 'gi-w-auto' %}

  {% if props.fullFluid %}
    {% set widthClass = 'gi-w-full' %}
  {% elif props.halfFluid %}
    {% set widthClass = 'gi-w-1/2' %}
  {% endif %}

  {# Use a unique ID for the textarea if not provided #}
  {% set textareaId = props.id or 'textarea-id' %}

  {# Conditionally render the wrapper div only if hasError is true #}
  {% if props.hasError %}
  <div class="gi-pt-2 gi-mb-4 gi-px-4 gi-border-solid gi-border-l-lg gi-border-red-600">
  {% endif %}

    {# Conditionally render the label if present in props #}
    {% if props.label %}
      {{ govieLabel({
        "content": props.label.content,
        "size": props.label.size or "md",
        "for": textareaId
      }) | trim }}
    {% endif %}

    {# Conditionally render the hint text if present in props #}
    {% if props.hintText %}
      {{ govieHintText({
        "content": props.hintText.content,
        "size": props.hintText.size or "md"
      }) | trim }}
    {% endif %}

    {# Conditionally render the error text if present in props and if hasError is true #}
    {% if props.hasError and props.errorText %}
      {{ govieErrorText({
        "content": props.errorText.content,
        "size": props.errorText.size or "md"
      }) | trim }}
    {% endif %}

    <div class="gi-flex gi-items-center">
      <textarea
        id="{{ textareaId }}"
        rows="{{ props.rows or 4 }}"
        cols="{{ props.cols or 100 }}"
        autocomplete="{{ props.autoComplete or 'on' }}"
        class="{% if props.hasError %}gi-border-red-600{% else %}gi-border-gray-950{% endif %} {{ widthClass }} gi-flex-initial gi-border-sm gi-border-solid gi-box-border gi-p-1 focus:gi-outline focus:gi-outline-[3px] focus:gi-border-lg focus:gi-border-gray-950 focus:gi-outline-yellow-400 focus:gi-outline-offset-0 xs:gi-text-md gi-text-sm gi-resize-y gi-min-h-10"
      ></textarea>
    </div>

  {# Close the conditional wrapper div if hasError is true #}
  {% if props.hasError %}
  </div>
  {% endif %}

{% endmacro %}
